10/01/2023  03:15:37 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/celery_redis/settings.py changed, reloading.
10/01/2023  03:15:37 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/celery_redis/settings.py changed, reloading.
10/01/2023  03:31:19 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 155, in post
    req_file=request.data['upload_file']
KeyError: 'upload_file'
10/01/2023  03:34:43 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
10/01/2023  03:34:46 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 35, in <module>
    import boto3.session
ModuleNotFoundError: No module named 'boto3'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 157, in post
    default_storage.save(req_file.name, req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/utils/functional.py", line 266, in inner
    self._setup()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 424, in _setup
    self._wrapped = get_storage_class()()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 419, in get_storage_class
    return import_string(import_path or settings.DEFAULT_FILE_STORAGE)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/utils/module_loading.py", line 30, in import_string
    return cached_import(module_path, class_name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/utils/module_loading.py", line 15, in cached_import
    module = import_module(module_path)
  File "/usr/lib/python3.8/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1014, in _gcd_import
  File "<frozen importlib._bootstrap>", line 991, in _find_and_load
  File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 671, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 848, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 41, in <module>
    raise ImproperlyConfigured("Could not load Boto3's S3 bindings. %s" % e)
django.core.exceptions.ImproperlyConfigured: Could not load Boto3's S3 bindings. No module named 'boto3'
10/01/2023  03:39:29 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
10/01/2023  03:39:29 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
10/01/2023  03:39:29 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
10/01/2023  03:39:29 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
10/01/2023  03:39:29 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
10/01/2023  03:39:29 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
10/01/2023  03:39:29 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
10/01/2023  03:39:29 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
10/01/2023  03:39:29 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
10/01/2023  03:39:29 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
10/01/2023  03:39:29 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
10/01/2023  03:39:29 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/data/s3/2006-03-01/resources-1.json
10/01/2023  03:39:29 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
10/01/2023  03:39:29 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
10/01/2023  03:39:29 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f0a92ad40d0>
10/01/2023  03:39:29 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
10/01/2023  03:39:29 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
10/01/2023  03:39:29 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
10/01/2023  03:39:29 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f0a9a78d430>
10/01/2023  03:39:29 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f0a982525e0>
10/01/2023  03:39:29 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f0a9a78d1f0>
10/01/2023  03:39:29 PM: DEBUG: Setting s3 timeout as (60, 60)
10/01/2023  03:39:29 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
10/01/2023  03:39:29 PM: DEBUG: Registering retry handlers for service: s3
10/01/2023  03:39:29 PM: DEBUG: Registering S3 region redirector handler
10/01/2023  03:39:29 PM: DEBUG: Loading s3:s3
10/01/2023  03:39:29 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f0a92aec790>
10/01/2023  03:39:29 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:29 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  03:39:29 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  03:39:29 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  03:39:29 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  03:39:29 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f0a92ae7820>
10/01/2023  03:39:29 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f0a92ae7790>
10/01/2023  03:39:29 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f0a92aec5e0>
10/01/2023  03:39:29 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:29 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f0a92ae75e0>
10/01/2023  03:39:29 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f0a92ae7af0>
10/01/2023  03:39:29 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f0a92ae7280>
10/01/2023  03:39:29 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f0a92aebe50>
10/01/2023  03:39:29 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/1664171278_large.jpg', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/1664171278_large.jpg', 'url': 'https://user-data.s3.amazonaws.com/1664171278_large.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f0a91e78610>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data', 'Key': '1664171278_large.jpg'}}}}
10/01/2023  03:39:29 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f0a91e78640>>
10/01/2023  03:39:29 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f0a924eb3a0>>
10/01/2023  03:39:29 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f0a92ae74c0>
10/01/2023  03:39:29 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f0a92aec700>
10/01/2023  03:39:29 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  03:39:29 PM: DEBUG: CanonicalRequest:
HEAD
/1664171278_large.jpg

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T100929Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  03:39:29 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T100929Z
20230110/us-east-1/s3/aws4_request
c809f89353b3fd01d87f4b6b15c309f0d1f6cb16835765c226c8062256cb2a5c
10/01/2023  03:39:29 PM: DEBUG: Signature:
6b36c917e359ff7d70436140cdb499d983ddf323ff6a18aa8ee05f0563ea7d12
10/01/2023  03:39:29 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f0a92aec550>
10/01/2023  03:39:29 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/1664171278_large.jpg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T100929Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=6b36c917e359ff7d70436140cdb499d983ddf323ff6a18aa8ee05f0563ea7d12', 'amz-sdk-invocation-id': b'e36ec1ef-4250-492b-b200-b86840c1c4b4', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  03:39:29 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  03:39:29 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.amazonaws.com:443
10/01/2023  03:39:30 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD /1664171278_large.jpg HTTP/1.1" 400 0
10/01/2023  03:39:30 PM: DEBUG: Response headers: {'x-amz-request-id': '3KB4T4087AD03F35', 'x-amz-id-2': 'YA9FoLofmQVAs/9PT0bYCNf7l3QOcpTDNX3qijzdWjMqiop84e9Kf5eDrcOVFcDcmKLA8M6RqZ4=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 10:09:30 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  03:39:30 PM: DEBUG: Response body:
b''
10/01/2023  03:39:30 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f0a91c747c0>
10/01/2023  03:39:30 PM: DEBUG: No retry needed.
10/01/2023  03:39:30 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:30 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f0a92aec790>
10/01/2023  03:39:30 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:30 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  03:39:30 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  03:39:30 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  03:39:30 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  03:39:30 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f0a92ae7790>
10/01/2023  03:39:30 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f0a92aec5e0>
10/01/2023  03:39:30 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:30 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f0a92ae75e0>
10/01/2023  03:39:30 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f0a92ae7af0>
10/01/2023  03:39:30 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f0a92ae7280>
10/01/2023  03:39:30 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f0a92aebe50>
10/01/2023  03:39:30 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/', 'url': 'https://user-data.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f0a91e78610>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data'}}}}
10/01/2023  03:39:30 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f0a91e78640>>
10/01/2023  03:39:30 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f0a924eb3a0>>
10/01/2023  03:39:30 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f0a92ae74c0>
10/01/2023  03:39:30 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f0a92aec700>
10/01/2023  03:39:30 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  03:39:30 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T100930Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  03:39:30 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T100930Z
20230110/us-east-1/s3/aws4_request
b0e0405aef2e40c19bb923b14d67e94b8128189cee490f534da21f6d06188e29
10/01/2023  03:39:30 PM: DEBUG: Signature:
4ab7ad3e0ab20bdc6f77574ff9c3f23a832400b561c539d15a7fff57b7e60b9b
10/01/2023  03:39:30 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f0a92aec550>
10/01/2023  03:39:30 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T100930Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=4ab7ad3e0ab20bdc6f77574ff9c3f23a832400b561c539d15a7fff57b7e60b9b', 'amz-sdk-invocation-id': b'a20bb642-6d1b-4d5f-b634-355b17a4a08b', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  03:39:30 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  03:39:30 PM: DEBUG: Resetting dropped connection: user-data.s3.amazonaws.com
10/01/2023  03:39:32 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
10/01/2023  03:39:32 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'RVZX43ZJ6WS5BJ1S', 'x-amz-id-2': '6I38V6ue2yb5IzgYipSgObPaMY9MojkOff3qFC0vx/bMZfMcgc3sMlP5jcReOFlE2/Hdj3EA7RI=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 10:09:31 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  03:39:32 PM: DEBUG: Response body:
b''
10/01/2023  03:39:32 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f0a91c747c0>
10/01/2023  03:39:32 PM: DEBUG: No retry needed.
10/01/2023  03:39:32 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:32 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  03:39:32 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f0a92aec790>
10/01/2023  03:39:32 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:32 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  03:39:32 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  03:39:32 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/ to https://user-data.s3.us-east-2.amazonaws.com/
10/01/2023  03:39:32 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  03:39:32 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  03:39:32 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  03:39:32 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f0a91e78640>>
10/01/2023  03:39:32 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f0a924eb3a0>>
10/01/2023  03:39:32 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f0a92ae74c0>
10/01/2023  03:39:32 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f0a92aec700>
10/01/2023  03:39:32 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  03:39:32 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T100932Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  03:39:32 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T100932Z
20230110/us-east-2/s3/aws4_request
f489a86fe2fb3f5224cd4c0869f922a7f621a4ea2fd7ce95115bdb9a386ffd24
10/01/2023  03:39:32 PM: DEBUG: Signature:
1f6977dc90c4fbba83bc8bf9e8abba306dc0c3a5452f2e3c08d89f53b4f06a9f
10/01/2023  03:39:32 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f0a92aec550>
10/01/2023  03:39:32 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T100932Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1f6977dc90c4fbba83bc8bf9e8abba306dc0c3a5452f2e3c08d89f53b4f06a9f', 'amz-sdk-invocation-id': b'a20bb642-6d1b-4d5f-b634-355b17a4a08b', 'amz-sdk-request': b'ttl=20230110T101031Z; attempt=2; max=5'}>
10/01/2023  03:39:32 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  03:39:32 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.us-east-2.amazonaws.com:443
10/01/2023  03:39:33 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD / HTTP/1.1" 403 0
10/01/2023  03:39:33 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'KDYYNGAA6YMC3SJK', 'x-amz-id-2': 'EGV/8SuEoT7v+hS0Fdn6CDsHOJnXzPC0k63tfqkvOY1xiS6Sg4640UhfZE8VXQl4Vxf2Vc1vENU=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 10:09:32 GMT', 'Server': 'AmazonS3'}
10/01/2023  03:39:33 PM: DEBUG: Response body:
b''
10/01/2023  03:39:33 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f0a91c747c0>
10/01/2023  03:39:33 PM: DEBUG: No retry needed.
10/01/2023  03:39:33 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:33 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  03:39:33 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  03:39:33 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f0a92aec790>
10/01/2023  03:39:33 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:33 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  03:39:33 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  03:39:33 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/1664171278_large.jpg to https://user-data.s3.us-east-2.amazonaws.com/1664171278_large.jpg
10/01/2023  03:39:33 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  03:39:33 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  03:39:33 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  03:39:33 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f0a91e78640>>
10/01/2023  03:39:33 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f0a924eb3a0>>
10/01/2023  03:39:33 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f0a92ae74c0>
10/01/2023  03:39:33 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f0a92aec700>
10/01/2023  03:39:33 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  03:39:33 PM: DEBUG: CanonicalRequest:
HEAD
/1664171278_large.jpg

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T100933Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  03:39:33 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T100933Z
20230110/us-east-2/s3/aws4_request
2f30127f0058c3b818ccc1bf39d719f8c7d13d1420f21653757a510378a42f28
10/01/2023  03:39:33 PM: DEBUG: Signature:
76da19dfee06d07779cb3fa0dfd97ebca757adfef1bfa1078edeaa659a9364d9
10/01/2023  03:39:33 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f0a92aec550>
10/01/2023  03:39:33 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/1664171278_large.jpg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T100933Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=76da19dfee06d07779cb3fa0dfd97ebca757adfef1bfa1078edeaa659a9364d9', 'amz-sdk-invocation-id': b'e36ec1ef-4250-492b-b200-b86840c1c4b4', 'amz-sdk-request': b'ttl=20230110T101030Z; attempt=2; max=5'}>
10/01/2023  03:39:33 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  03:39:33 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD /1664171278_large.jpg HTTP/1.1" 403 0
10/01/2023  03:39:33 PM: DEBUG: Response headers: {'x-amz-request-id': 'KDYHHV610SAWYHVA', 'x-amz-id-2': 'Z+o4dr+3KC7NZmzFyhxDlqsY0Nhzvr4P8GrEnhbPafboMtyF5w/Owp9BUXh4vjBVNbzk4YYJ56A=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 10:09:33 GMT', 'Server': 'AmazonS3'}
10/01/2023  03:39:33 PM: DEBUG: Response body:
b''
10/01/2023  03:39:33 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f0a91c747c0>
10/01/2023  03:39:33 PM: DEBUG: No retry needed.
10/01/2023  03:39:33 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f0a91c74820>>
10/01/2023  03:39:33 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  03:39:33 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 157, in post
    default_storage.save(req_file.name, req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 55, in save
    name = self.get_available_name(name, max_length=max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 599, in get_available_name
    return super().get_available_name(name, max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 95, in get_available_name
    while self.exists(name) or (max_length and len(name) > max_length):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 463, in exists
    self.connection.meta.client.head_object(Bucket=self.bucket_name, Key=name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 960, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden
10/01/2023  04:39:41 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/celery_redis/urls.py changed, reloading.
10/01/2023  04:40:12 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
10/01/2023  04:40:12 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
10/01/2023  04:40:12 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
10/01/2023  04:40:12 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
10/01/2023  04:40:12 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
10/01/2023  04:40:12 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
10/01/2023  04:40:12 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
10/01/2023  04:40:12 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
10/01/2023  04:40:12 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
10/01/2023  04:40:12 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
10/01/2023  04:40:12 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
10/01/2023  04:40:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/data/s3/2006-03-01/resources-1.json
10/01/2023  04:40:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
10/01/2023  04:40:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
10/01/2023  04:40:12 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f431e6ad310>
10/01/2023  04:40:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
10/01/2023  04:40:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
10/01/2023  04:40:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
10/01/2023  04:40:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f431e72d670>
10/01/2023  04:40:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f431c106790>
10/01/2023  04:40:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f431e72d430>
10/01/2023  04:40:12 PM: DEBUG: Setting s3 timeout as (60, 60)
10/01/2023  04:40:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
10/01/2023  04:40:12 PM: DEBUG: Registering retry handlers for service: s3
10/01/2023  04:40:12 PM: DEBUG: Registering S3 region redirector handler
10/01/2023  04:40:12 PM: DEBUG: Loading s3:s3
10/01/2023  04:40:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f43169bd9d0>
10/01/2023  04:40:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:12 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:40:12 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  04:40:12 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:40:12 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:40:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f431e6c3a60>
10/01/2023  04:40:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f431e6c39d0>
10/01/2023  04:40:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f43169bd820>
10/01/2023  04:40:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f431e6c3820>
10/01/2023  04:40:12 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f431e6c3d30>
10/01/2023  04:40:12 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f431e6c34c0>
10/01/2023  04:40:12 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f43169bd0d0>
10/01/2023  04:40:12 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/1664171278_large.jpg', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/1664171278_large.jpg', 'url': 'https://user-data.s3.amazonaws.com/1664171278_large.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f4315dc7b50>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data', 'Key': '1664171278_large.jpg'}}}}
10/01/2023  04:40:12 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f4315dc7b80>>
10/01/2023  04:40:12 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f43164378e0>>
10/01/2023  04:40:12 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f431e6c3700>
10/01/2023  04:40:12 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f43169bd940>
10/01/2023  04:40:12 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:40:12 PM: DEBUG: CanonicalRequest:
HEAD
/1664171278_large.jpg

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111012Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:40:12 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111012Z
20230110/us-east-1/s3/aws4_request
4bd64cafbd02574ce6dab1709a8596d8a6d12c82d0c5ae08ea4a24c518bf7cbe
10/01/2023  04:40:12 PM: DEBUG: Signature:
b026ddbf79dc1b40322af13f8b13427f550c4fd164b6025aec557d61a6cf434b
10/01/2023  04:40:12 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f43169bd790>
10/01/2023  04:40:12 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/1664171278_large.jpg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111012Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b026ddbf79dc1b40322af13f8b13427f550c4fd164b6025aec557d61a6cf434b', 'amz-sdk-invocation-id': b'cd1c4ec9-5a6b-4e04-a1ad-57fb46f1b87b', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  04:40:12 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:40:12 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.amazonaws.com:443
10/01/2023  04:40:13 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD /1664171278_large.jpg HTTP/1.1" 400 0
10/01/2023  04:40:13 PM: DEBUG: Response headers: {'x-amz-request-id': 'WPA1A2XGNVB9FA8A', 'x-amz-id-2': 'xzl6jY2SEXbwOLdwg5+hFnkdjUOwy9gb8pXlup9dNhXSN8j0q2K6TI4GFl6wEd/GiM2i+UZJ2kg=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:10:13 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  04:40:13 PM: DEBUG: Response body:
b''
10/01/2023  04:40:13 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f4315b44d00>
10/01/2023  04:40:13 PM: DEBUG: No retry needed.
10/01/2023  04:40:13 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f43169bd9d0>
10/01/2023  04:40:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:13 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:40:13 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  04:40:13 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:40:13 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:40:13 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f431e6c39d0>
10/01/2023  04:40:13 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f43169bd820>
10/01/2023  04:40:13 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:13 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f431e6c3820>
10/01/2023  04:40:13 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f431e6c3d30>
10/01/2023  04:40:13 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f431e6c34c0>
10/01/2023  04:40:13 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f43169bd0d0>
10/01/2023  04:40:13 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/', 'url': 'https://user-data.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f4315dc7b50>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data'}}}}
10/01/2023  04:40:13 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f4315dc7b80>>
10/01/2023  04:40:13 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f43164378e0>>
10/01/2023  04:40:13 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f431e6c3700>
10/01/2023  04:40:13 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f43169bd940>
10/01/2023  04:40:13 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:40:13 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111013Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:40:13 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111013Z
20230110/us-east-1/s3/aws4_request
0e3dc8d2645c3ff9abae8a5812f7977581e086468565723dec253c097be55263
10/01/2023  04:40:13 PM: DEBUG: Signature:
ffdcf0256df4456c0f0d6d867241e9f6f1b20cd472b82365b5e0ca5a6963fdb1
10/01/2023  04:40:13 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f43169bd790>
10/01/2023  04:40:13 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111013Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ffdcf0256df4456c0f0d6d867241e9f6f1b20cd472b82365b5e0ca5a6963fdb1', 'amz-sdk-invocation-id': b'98342ad3-4c23-4faf-b565-389d18f0eaae', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  04:40:13 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:40:13 PM: DEBUG: Resetting dropped connection: user-data.s3.amazonaws.com
10/01/2023  04:40:15 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
10/01/2023  04:40:15 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': '3A5TDMTM1A402YZH', 'x-amz-id-2': '8i2s3yVB8rrDmTjyyimVpHOSw0pmQ6VklvTS8nae3DQ04djdmQQc0LKOgXptITz2S0lKvn6172o=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:10:14 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  04:40:15 PM: DEBUG: Response body:
b''
10/01/2023  04:40:15 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f4315b44d00>
10/01/2023  04:40:15 PM: DEBUG: No retry needed.
10/01/2023  04:40:15 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:15 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  04:40:15 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f43169bd9d0>
10/01/2023  04:40:15 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:15 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:40:15 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  04:40:15 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/ to https://user-data.s3.us-east-2.amazonaws.com/
10/01/2023  04:40:15 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:40:15 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:40:15 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  04:40:15 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f4315dc7b80>>
10/01/2023  04:40:15 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f43164378e0>>
10/01/2023  04:40:15 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f431e6c3700>
10/01/2023  04:40:15 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f43169bd940>
10/01/2023  04:40:15 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:40:15 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111015Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:40:15 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111015Z
20230110/us-east-2/s3/aws4_request
fb4928c8a6749c7eca88080adb9e8fc3777d7dfb67b5a6261f2443d9e45ce703
10/01/2023  04:40:15 PM: DEBUG: Signature:
930f411803edd0df743f576232f19f224e1c2d96b77eae24b1de720fe5a47768
10/01/2023  04:40:15 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f43169bd790>
10/01/2023  04:40:15 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111015Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=930f411803edd0df743f576232f19f224e1c2d96b77eae24b1de720fe5a47768', 'amz-sdk-invocation-id': b'98342ad3-4c23-4faf-b565-389d18f0eaae', 'amz-sdk-request': b'ttl=20230110T111114Z; attempt=2; max=5'}>
10/01/2023  04:40:15 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:40:15 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.us-east-2.amazonaws.com:443
10/01/2023  04:40:16 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD / HTTP/1.1" 403 0
10/01/2023  04:40:16 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'YP2X7SK77XQ1YJPX', 'x-amz-id-2': 'XOcvDvGzHFWmIK+lzoiAsufQzb8c35Gh7gQKkR1n3XMYE8iWnsl7BWWvYtJytZxx0wTN4GnkR0hGNGEyD4bKQw==', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:10:15 GMT', 'Server': 'AmazonS3'}
10/01/2023  04:40:16 PM: DEBUG: Response body:
b''
10/01/2023  04:40:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f4315b44d00>
10/01/2023  04:40:16 PM: DEBUG: No retry needed.
10/01/2023  04:40:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:16 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  04:40:16 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  04:40:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f43169bd9d0>
10/01/2023  04:40:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:16 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:40:16 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  04:40:16 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/1664171278_large.jpg to https://user-data.s3.us-east-2.amazonaws.com/1664171278_large.jpg
10/01/2023  04:40:16 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:40:16 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:40:16 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  04:40:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f4315dc7b80>>
10/01/2023  04:40:16 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f43164378e0>>
10/01/2023  04:40:16 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f431e6c3700>
10/01/2023  04:40:16 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f43169bd940>
10/01/2023  04:40:16 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:40:16 PM: DEBUG: CanonicalRequest:
HEAD
/1664171278_large.jpg

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111016Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:40:16 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111016Z
20230110/us-east-2/s3/aws4_request
d0cff41886fdfcd680ceb99bc44bdf2f9c3a6bc22d43e9161fc4a76b461b6bcf
10/01/2023  04:40:16 PM: DEBUG: Signature:
0a633510a96be2ca5d8d948bc03ca49303674fbebce59ca71abd6ce3c22be3fb
10/01/2023  04:40:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f43169bd790>
10/01/2023  04:40:16 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/1664171278_large.jpg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111016Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0a633510a96be2ca5d8d948bc03ca49303674fbebce59ca71abd6ce3c22be3fb', 'amz-sdk-invocation-id': b'cd1c4ec9-5a6b-4e04-a1ad-57fb46f1b87b', 'amz-sdk-request': b'ttl=20230110T111113Z; attempt=2; max=5'}>
10/01/2023  04:40:16 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:40:16 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD /1664171278_large.jpg HTTP/1.1" 403 0
10/01/2023  04:40:16 PM: DEBUG: Response headers: {'x-amz-request-id': 'YP2W8KQGECPQD1KM', 'x-amz-id-2': 'nxVuyT2MGFQldEBQz7GZ16CjMvIMECcY3L2GRXpiK4KznISSZdt/8xPdJcDextxg/LahewOTrbi4Ydr5KcAsmg==', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:10:16 GMT', 'Server': 'AmazonS3'}
10/01/2023  04:40:16 PM: DEBUG: Response body:
b''
10/01/2023  04:40:16 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f4315b44d00>
10/01/2023  04:40:16 PM: DEBUG: No retry needed.
10/01/2023  04:40:16 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f4315b44d60>>
10/01/2023  04:40:16 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  04:40:17 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 157, in post
    default_storage.save(req_file.name, req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 55, in save
    name = self.get_available_name(name, max_length=max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 599, in get_available_name
    return super().get_available_name(name, max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 95, in get_available_name
    while self.exists(name) or (max_length and len(name) > max_length):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 463, in exists
    self.connection.meta.client.head_object(Bucket=self.bucket_name, Key=name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 960, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden
10/01/2023  04:43:54 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
10/01/2023  04:45:15 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
10/01/2023  04:45:22 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
10/01/2023  04:45:22 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
10/01/2023  04:45:22 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
10/01/2023  04:45:22 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
10/01/2023  04:45:22 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
10/01/2023  04:45:22 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
10/01/2023  04:45:22 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
10/01/2023  04:45:22 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
10/01/2023  04:45:22 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
10/01/2023  04:45:22 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
10/01/2023  04:45:22 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
10/01/2023  04:45:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/data/s3/2006-03-01/resources-1.json
10/01/2023  04:45:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
10/01/2023  04:45:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
10/01/2023  04:45:22 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fce6ad69ca0>
10/01/2023  04:45:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
10/01/2023  04:45:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
10/01/2023  04:45:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
10/01/2023  04:45:22 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fce6ade6040>
10/01/2023  04:45:22 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fce63280160>
10/01/2023  04:45:22 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fce6ade2dc0>
10/01/2023  04:45:22 PM: DEBUG: Setting s3 timeout as (60, 60)
10/01/2023  04:45:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
10/01/2023  04:45:22 PM: DEBUG: Registering retry handlers for service: s3
10/01/2023  04:45:22 PM: DEBUG: Registering S3 region redirector handler
10/01/2023  04:45:22 PM: DEBUG: Loading s3:s3
10/01/2023  04:45:22 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fce6ad073a0>
10/01/2023  04:45:22 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:22 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:45:22 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  04:45:22 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:45:22 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:45:22 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7fce6ad04430>
10/01/2023  04:45:22 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7fce6ad043a0>
10/01/2023  04:45:22 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7fce6ad071f0>
10/01/2023  04:45:22 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:22 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7fce6ad041f0>
10/01/2023  04:45:22 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7fce6ad04700>
10/01/2023  04:45:22 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7fce6ad60e50>
10/01/2023  04:45:22 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7fce6ad06a60>
10/01/2023  04:45:22 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/1664171278_large.jpg', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/1664171278_large.jpg', 'url': 'https://user-data.s3.amazonaws.com/1664171278_large.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fce68140c70>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data', 'Key': '1664171278_large.jpg'}}}}
10/01/2023  04:45:22 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fce68140dc0>>
10/01/2023  04:45:22 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fce6327f490>>
10/01/2023  04:45:22 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7fce6ad040d0>
10/01/2023  04:45:22 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7fce6ad07310>
10/01/2023  04:45:22 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:45:22 PM: DEBUG: CanonicalRequest:
HEAD
/1664171278_large.jpg

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111522Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:45:22 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111522Z
20230110/us-east-1/s3/aws4_request
857fcaac6054384845d47021f67812b4e7d5694d0768c0dc01097bdbb787de98
10/01/2023  04:45:22 PM: DEBUG: Signature:
f61707ad1ac708bfdcd8d565ca986cc4ad097affe50672a6de64304946958a0c
10/01/2023  04:45:22 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7fce6ad07160>
10/01/2023  04:45:22 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/1664171278_large.jpg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111522Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=f61707ad1ac708bfdcd8d565ca986cc4ad097affe50672a6de64304946958a0c', 'amz-sdk-invocation-id': b'd2e8eda7-9f8a-4941-8708-dd9167c31fd3', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  04:45:22 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:45:22 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.amazonaws.com:443
10/01/2023  04:45:24 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD /1664171278_large.jpg HTTP/1.1" 400 0
10/01/2023  04:45:24 PM: DEBUG: Response headers: {'x-amz-request-id': '93M933K6B3RV86P3', 'x-amz-id-2': 'ytx77LToi4DB+qoM85T9CHnwa658kvJq7ZVhVJALyQVfJWcntKQAPhIaO/dLwrowBqqkqBTo5nI=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:15:23 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  04:45:24 PM: DEBUG: Response body:
b''
10/01/2023  04:45:24 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fce624f9970>
10/01/2023  04:45:24 PM: DEBUG: No retry needed.
10/01/2023  04:45:24 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fce6ad073a0>
10/01/2023  04:45:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:24 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:45:24 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  04:45:24 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:45:24 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:45:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7fce6ad043a0>
10/01/2023  04:45:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7fce6ad071f0>
10/01/2023  04:45:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7fce6ad041f0>
10/01/2023  04:45:24 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7fce6ad04700>
10/01/2023  04:45:24 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7fce6ad60e50>
10/01/2023  04:45:24 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7fce6ad06a60>
10/01/2023  04:45:24 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/', 'url': 'https://user-data.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fce68140c70>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data'}}}}
10/01/2023  04:45:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fce68140dc0>>
10/01/2023  04:45:24 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fce6327f490>>
10/01/2023  04:45:24 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7fce6ad040d0>
10/01/2023  04:45:24 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7fce6ad07310>
10/01/2023  04:45:24 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:45:24 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111524Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:45:24 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111524Z
20230110/us-east-1/s3/aws4_request
a92d2c4a5a7b81d07e210ff3714fe81b2eb2274070224bc35da5ce9a6d99c707
10/01/2023  04:45:24 PM: DEBUG: Signature:
a9a3ac9675419784df4ff0d45f0f69dffc0f9203845b9965624ce6ff7c08de59
10/01/2023  04:45:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7fce6ad07160>
10/01/2023  04:45:24 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111524Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a9a3ac9675419784df4ff0d45f0f69dffc0f9203845b9965624ce6ff7c08de59', 'amz-sdk-invocation-id': b'e85e549d-f28d-4669-be41-02ebc8ac57e9', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  04:45:24 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:45:24 PM: DEBUG: Resetting dropped connection: user-data.s3.amazonaws.com
10/01/2023  04:45:25 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
10/01/2023  04:45:25 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'RFXNDDM7F6YMBPG3', 'x-amz-id-2': 'lvtqtVrgNQe7b+EMiossHQqKEuEKmh1J2zjEwkFnI9qtXu8F4aL08+JrRqoLlURruy/5IFaGd08=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:15:24 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  04:45:25 PM: DEBUG: Response body:
b''
10/01/2023  04:45:25 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7fce624f9970>
10/01/2023  04:45:25 PM: DEBUG: No retry needed.
10/01/2023  04:45:25 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:25 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  04:45:25 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fce6ad073a0>
10/01/2023  04:45:25 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:25 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:45:25 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  04:45:25 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/ to https://user-data.s3.us-east-2.amazonaws.com/
10/01/2023  04:45:25 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:45:25 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:45:25 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  04:45:25 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fce68140dc0>>
10/01/2023  04:45:25 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fce6327f490>>
10/01/2023  04:45:25 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7fce6ad040d0>
10/01/2023  04:45:25 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7fce6ad07310>
10/01/2023  04:45:25 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:45:25 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111525Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:45:25 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111525Z
20230110/us-east-2/s3/aws4_request
7e282444b52bc93779c859337d0fe8bde415a666e9349c6ffb8486dfafaa3bbc
10/01/2023  04:45:25 PM: DEBUG: Signature:
cf13ad472e5bab9e24fec6b76171aa523a2af51e27e98e8e6be320207cf391d4
10/01/2023  04:45:25 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7fce6ad07160>
10/01/2023  04:45:25 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111525Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=cf13ad472e5bab9e24fec6b76171aa523a2af51e27e98e8e6be320207cf391d4', 'amz-sdk-invocation-id': b'e85e549d-f28d-4669-be41-02ebc8ac57e9', 'amz-sdk-request': b'ttl=20230110T111624Z; attempt=2; max=5'}>
10/01/2023  04:45:25 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:45:25 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.us-east-2.amazonaws.com:443
10/01/2023  04:45:26 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD / HTTP/1.1" 403 0
10/01/2023  04:45:26 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'G492XRJD39X7TMEA', 'x-amz-id-2': 'Bu1HnXl8oxPxwJ3VCibDuzC5vKUzMSXE8/DGD0AmvseNLarAzWr5ZFx4Yg75oGOVfn4RaW9q4KA=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:15:26 GMT', 'Server': 'AmazonS3'}
10/01/2023  04:45:26 PM: DEBUG: Response body:
b''
10/01/2023  04:45:26 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7fce624f9970>
10/01/2023  04:45:26 PM: DEBUG: No retry needed.
10/01/2023  04:45:26 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:26 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  04:45:26 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  04:45:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fce6ad073a0>
10/01/2023  04:45:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:26 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:45:26 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  04:45:26 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/1664171278_large.jpg to https://user-data.s3.us-east-2.amazonaws.com/1664171278_large.jpg
10/01/2023  04:45:26 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:45:26 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:45:26 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  04:45:26 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fce68140dc0>>
10/01/2023  04:45:26 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fce6327f490>>
10/01/2023  04:45:26 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7fce6ad040d0>
10/01/2023  04:45:26 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7fce6ad07310>
10/01/2023  04:45:26 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:45:26 PM: DEBUG: CanonicalRequest:
HEAD
/1664171278_large.jpg

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111526Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:45:26 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111526Z
20230110/us-east-2/s3/aws4_request
35c85b99d74d5d2f79a27b98747bee7a5b8f657c1a5046bce878728b390ff880
10/01/2023  04:45:26 PM: DEBUG: Signature:
82ef4abc511fd36a889fdf750b282ceaf6c8733de7dfdf433b978e2747880907
10/01/2023  04:45:26 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7fce6ad07160>
10/01/2023  04:45:26 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/1664171278_large.jpg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111526Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=82ef4abc511fd36a889fdf750b282ceaf6c8733de7dfdf433b978e2747880907', 'amz-sdk-invocation-id': b'd2e8eda7-9f8a-4941-8708-dd9167c31fd3', 'amz-sdk-request': b'ttl=20230110T111623Z; attempt=2; max=5'}>
10/01/2023  04:45:26 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:45:27 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD /1664171278_large.jpg HTTP/1.1" 403 0
10/01/2023  04:45:27 PM: DEBUG: Response headers: {'x-amz-request-id': 'G49ACFJJN6CSGZ57', 'x-amz-id-2': 'bKxEijJ4y3n7H1SVN7fXCIV5OIngZNCRwE8UgVREdiAlvAtGS0YoGSLPjhVOr6vgR1rDBJKpDsw=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:15:26 GMT', 'Server': 'AmazonS3'}
10/01/2023  04:45:27 PM: DEBUG: Response body:
b''
10/01/2023  04:45:27 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fce624f9970>
10/01/2023  04:45:27 PM: DEBUG: No retry needed.
10/01/2023  04:45:27 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fce624f9a00>>
10/01/2023  04:45:27 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  04:45:27 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 159, in post
    save_file.save(req_file.name, req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 55, in save
    name = self.get_available_name(name, max_length=max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 599, in get_available_name
    return super().get_available_name(name, max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 95, in get_available_name
    while self.exists(name) or (max_length and len(name) > max_length):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 463, in exists
    self.connection.meta.client.head_object(Bucket=self.bucket_name, Key=name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 960, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden
10/01/2023  04:47:36 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
10/01/2023  04:47:39 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
10/01/2023  04:47:39 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
10/01/2023  04:47:39 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
10/01/2023  04:47:39 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
10/01/2023  04:47:39 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
10/01/2023  04:47:39 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
10/01/2023  04:47:39 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
10/01/2023  04:47:39 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
10/01/2023  04:47:39 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
10/01/2023  04:47:39 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
10/01/2023  04:47:39 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
10/01/2023  04:47:39 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/data/s3/2006-03-01/resources-1.json
10/01/2023  04:47:39 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
10/01/2023  04:47:39 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
10/01/2023  04:47:39 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f0098337c10>
10/01/2023  04:47:39 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
10/01/2023  04:47:40 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
10/01/2023  04:47:40 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
10/01/2023  04:47:40 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f00983b0f70>
10/01/2023  04:47:40 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f00981b4040>
10/01/2023  04:47:40 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f00983b0d30>
10/01/2023  04:47:40 PM: DEBUG: Setting s3 timeout as (60, 60)
10/01/2023  04:47:40 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
10/01/2023  04:47:40 PM: DEBUG: Registering retry handlers for service: s3
10/01/2023  04:47:40 PM: DEBUG: Registering S3 region redirector handler
10/01/2023  04:47:40 PM: DEBUG: Loading s3:s3
10/01/2023  04:47:40 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f00982d9310>
10/01/2023  04:47:40 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:40 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:47:40 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  04:47:40 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:47:40 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:47:40 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f00982d53a0>
10/01/2023  04:47:40 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f00982d5310>
10/01/2023  04:47:40 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f00982d9160>
10/01/2023  04:47:40 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:40 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f00982d5160>
10/01/2023  04:47:40 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f00982d5670>
10/01/2023  04:47:40 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f0098346dc0>
10/01/2023  04:47:40 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f00982d69d0>
10/01/2023  04:47:40 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/cg', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/cg', 'url': 'https://user-data.s3.amazonaws.com/cg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f00949297c0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data', 'Key': 'cg'}}}}
10/01/2023  04:47:40 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f00949294f0>>
10/01/2023  04:47:40 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f00940078e0>>
10/01/2023  04:47:40 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f00982d5040>
10/01/2023  04:47:40 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f00982d9280>
10/01/2023  04:47:40 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:47:40 PM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111740Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:47:40 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111740Z
20230110/us-east-1/s3/aws4_request
4e8f221e2125a65bcc1b850dd721af587948f5e2c16d1d2545a641615f678277
10/01/2023  04:47:40 PM: DEBUG: Signature:
8a8f58ee7cf912678ecf1e08bedb1c6cf2edd18e7bc2a3e2721ad1709f8b48c3
10/01/2023  04:47:40 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f00982d90d0>
10/01/2023  04:47:40 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111740Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8a8f58ee7cf912678ecf1e08bedb1c6cf2edd18e7bc2a3e2721ad1709f8b48c3', 'amz-sdk-invocation-id': b'43de47ca-48bd-4be7-aa12-00d23a5160df', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  04:47:40 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:47:40 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.amazonaws.com:443
10/01/2023  04:47:41 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD /cg HTTP/1.1" 400 0
10/01/2023  04:47:41 PM: DEBUG: Response headers: {'x-amz-request-id': 'Z4HR03JB79Z4NHX1', 'x-amz-id-2': 'wQydqesMpiytmjbP3I+aSeJ2cuQLcHKxO28REChzKZM+bfuxNUOMwsdLEYgp2jE3Hg2CY9JMaIs=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:17:41 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  04:47:41 PM: DEBUG: Response body:
b''
10/01/2023  04:47:41 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f008f7a5100>
10/01/2023  04:47:41 PM: DEBUG: No retry needed.
10/01/2023  04:47:41 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:41 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f00982d9310>
10/01/2023  04:47:41 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:41 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:47:41 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
10/01/2023  04:47:41 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:47:41 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:47:41 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f00982d5310>
10/01/2023  04:47:41 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f00982d9160>
10/01/2023  04:47:41 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:41 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f00982d5160>
10/01/2023  04:47:41 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f00982d5670>
10/01/2023  04:47:41 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f0098346dc0>
10/01/2023  04:47:41 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f00982d69d0>
10/01/2023  04:47:41 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/', 'url': 'https://user-data.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f00949297c0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data'}}}}
10/01/2023  04:47:41 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f00949294f0>>
10/01/2023  04:47:41 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f00940078e0>>
10/01/2023  04:47:41 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f00982d5040>
10/01/2023  04:47:41 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f00982d9280>
10/01/2023  04:47:41 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:47:41 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111741Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:47:41 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111741Z
20230110/us-east-1/s3/aws4_request
4a558c83b9b09274662417fb2e4fc90290e7e39b62383e54f2f2ca4bdc93e297
10/01/2023  04:47:41 PM: DEBUG: Signature:
7ae8406ead78e4799ea1cb2260749ced78374edf3d799e1592c014ae07874973
10/01/2023  04:47:41 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f00982d90d0>
10/01/2023  04:47:41 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111741Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=7ae8406ead78e4799ea1cb2260749ced78374edf3d799e1592c014ae07874973', 'amz-sdk-invocation-id': b'51ad0b7b-5c73-424c-bf6b-9863a572dd46', 'amz-sdk-request': b'attempt=1'}>
10/01/2023  04:47:41 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:47:41 PM: DEBUG: Resetting dropped connection: user-data.s3.amazonaws.com
10/01/2023  04:47:42 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
10/01/2023  04:47:42 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'KHCGWMYVSW8FCB7P', 'x-amz-id-2': '/M9VVoE7M6iatsILQno+HFjtbDmVxvvqXc+goK4PS3AsawG+HHZFzQj8KDH1k7Kkto0Rsy/62gk=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:17:42 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
10/01/2023  04:47:42 PM: DEBUG: Response body:
b''
10/01/2023  04:47:42 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f008f7a5100>
10/01/2023  04:47:42 PM: DEBUG: No retry needed.
10/01/2023  04:47:42 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:42 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  04:47:42 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f00982d9310>
10/01/2023  04:47:42 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:42 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:47:42 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  04:47:42 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/ to https://user-data.s3.us-east-2.amazonaws.com/
10/01/2023  04:47:42 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:47:42 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:47:42 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  04:47:42 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f00949294f0>>
10/01/2023  04:47:42 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f00940078e0>>
10/01/2023  04:47:42 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f00982d5040>
10/01/2023  04:47:42 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f00982d9280>
10/01/2023  04:47:42 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:47:42 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111742Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:47:42 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111742Z
20230110/us-east-2/s3/aws4_request
ec415c55356a1a6ec8b8509798a209d95ada51bea5da4ea831affcb1039ea7ad
10/01/2023  04:47:42 PM: DEBUG: Signature:
70d83deec61b683ca3803a2fb1c1a27cdc4a1bf829a3280839b74aa355830622
10/01/2023  04:47:42 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f00982d90d0>
10/01/2023  04:47:42 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111742Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=70d83deec61b683ca3803a2fb1c1a27cdc4a1bf829a3280839b74aa355830622', 'amz-sdk-invocation-id': b'51ad0b7b-5c73-424c-bf6b-9863a572dd46', 'amz-sdk-request': b'ttl=20230110T111842Z; attempt=2; max=5'}>
10/01/2023  04:47:42 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:47:42 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.us-east-2.amazonaws.com:443
10/01/2023  04:47:44 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD / HTTP/1.1" 403 0
10/01/2023  04:47:44 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'PET9QECF5M9V1F27', 'x-amz-id-2': 'L7N3dfC3bSEquXZWpGXd361+Djz+a+yetgdVS20IUMBJPRxTgm+fofzc48hvbUfx2xhbQFGnS98=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:17:43 GMT', 'Server': 'AmazonS3'}
10/01/2023  04:47:44 PM: DEBUG: Response body:
b''
10/01/2023  04:47:44 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f008f7a5100>
10/01/2023  04:47:44 PM: DEBUG: No retry needed.
10/01/2023  04:47:44 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:44 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  04:47:44 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
10/01/2023  04:47:44 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f00982d9310>
10/01/2023  04:47:44 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:44 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
10/01/2023  04:47:44 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
10/01/2023  04:47:44 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/cg to https://user-data.s3.us-east-2.amazonaws.com/cg
10/01/2023  04:47:44 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
10/01/2023  04:47:44 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
10/01/2023  04:47:44 PM: DEBUG: Response received to retry, sleeping for 0 seconds
10/01/2023  04:47:44 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f00949294f0>>
10/01/2023  04:47:44 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f00940078e0>>
10/01/2023  04:47:44 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f00982d5040>
10/01/2023  04:47:44 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f00982d9280>
10/01/2023  04:47:44 PM: DEBUG: Calculating signature using v4 auth.
10/01/2023  04:47:44 PM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230110T111744Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
10/01/2023  04:47:44 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230110T111744Z
20230110/us-east-2/s3/aws4_request
2d1745145e4f857b6fc77eb949ff8ecadf5a3d3b99247c3351b0dce13a63b133
10/01/2023  04:47:44 PM: DEBUG: Signature:
647f1df28d7954bdbded9a07b85734ab05ca1d0e3d0ea4b1235fad1dcd06d775
10/01/2023  04:47:44 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f00982d90d0>
10/01/2023  04:47:44 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230110T111744Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230110/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=647f1df28d7954bdbded9a07b85734ab05ca1d0e3d0ea4b1235fad1dcd06d775', 'amz-sdk-invocation-id': b'43de47ca-48bd-4be7-aa12-00d23a5160df', 'amz-sdk-request': b'ttl=20230110T111841Z; attempt=2; max=5'}>
10/01/2023  04:47:44 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
10/01/2023  04:47:44 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD /cg HTTP/1.1" 403 0
10/01/2023  04:47:44 PM: DEBUG: Response headers: {'x-amz-request-id': 'PET8H6KXFPT680NJ', 'x-amz-id-2': 'ATfc7LNrqNBoD+uzDbjkXwAZuvUxZXMWKF4tAfGFxTDHJV+2Mub0krp+1a0axlKHv9aBjtSUM9g=', 'Content-Type': 'application/xml', 'Date': 'Tue, 10 Jan 2023 11:17:43 GMT', 'Server': 'AmazonS3'}
10/01/2023  04:47:44 PM: DEBUG: Response body:
b''
10/01/2023  04:47:44 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f008f7a5100>
10/01/2023  04:47:44 PM: DEBUG: No retry needed.
10/01/2023  04:47:44 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f008f7a5400>>
10/01/2023  04:47:44 PM: DEBUG: S3 request was previously redirected, not redirecting.
10/01/2023  04:47:44 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 159, in post
    save_file.save('cg', req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 55, in save
    name = self.get_available_name(name, max_length=max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 599, in get_available_name
    return super().get_available_name(name, max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 95, in get_available_name
    while self.exists(name) or (max_length and len(name) > max_length):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 463, in exists
    self.connection.meta.client.head_object(Bucket=self.bucket_name, Key=name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 960, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden
10/01/2023  04:49:40 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
11/01/2023  10:45:50 AM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
11/01/2023  10:45:50 AM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
11/01/2023  10:45:50 AM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
11/01/2023  10:45:50 AM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
11/01/2023  10:45:50 AM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
11/01/2023  10:45:50 AM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
11/01/2023  10:45:50 AM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
11/01/2023  10:45:50 AM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
11/01/2023  10:45:50 AM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
11/01/2023  10:45:50 AM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
11/01/2023  10:45:50 AM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
11/01/2023  10:45:50 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/data/s3/2006-03-01/resources-1.json
11/01/2023  10:45:50 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
11/01/2023  10:45:50 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
11/01/2023  10:45:50 AM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fe6749a0a60>
11/01/2023  10:45:50 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
11/01/2023  10:45:51 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
11/01/2023  10:45:51 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
11/01/2023  10:45:51 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fe6719b0dc0>
11/01/2023  10:45:51 AM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fe670f76940>
11/01/2023  10:45:51 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fe6719b0b80>
11/01/2023  10:45:51 AM: DEBUG: Setting s3 timeout as (60, 60)
11/01/2023  10:45:51 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
11/01/2023  10:45:51 AM: DEBUG: Registering retry handlers for service: s3
11/01/2023  10:45:51 AM: DEBUG: Registering S3 region redirector handler
11/01/2023  10:45:51 AM: DEBUG: Loading s3:s3
11/01/2023  10:45:51 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe6749bf160>
11/01/2023  10:45:51 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:51 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  10:45:51 AM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
11/01/2023  10:45:51 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  10:45:51 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  10:45:51 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7fe6749be1f0>
11/01/2023  10:45:51 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7fe6749be160>
11/01/2023  10:45:51 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7fe6749b9f70>
11/01/2023  10:45:51 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:51 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7fe6749b8f70>
11/01/2023  10:45:51 AM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7fe6749be4c0>
11/01/2023  10:45:51 AM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7fe6749b8c10>
11/01/2023  10:45:51 AM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7fe6749b9820>
11/01/2023  10:45:51 AM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/cg', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/cg', 'url': 'https://user-data.s3.amazonaws.com/cg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fe670f711c0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data', 'Key': 'cg'}}}}
11/01/2023  10:45:51 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe670f71c10>>
11/01/2023  10:45:51 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe67064dbb0>>
11/01/2023  10:45:51 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7fe6749b8e50>
11/01/2023  10:45:51 AM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7fe6749bf0d0>
11/01/2023  10:45:51 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  10:45:51 AM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T051551Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  10:45:51 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T051551Z
20230111/us-east-1/s3/aws4_request
db903fb347a704a7749a37a6e57941fd8a7717dedc912168d8ce46905fb96af2
11/01/2023  10:45:51 AM: DEBUG: Signature:
55203a3f1b817ca86c4e2104cf122576b0e209cac1fef05c4a820b026e260b56
11/01/2023  10:45:51 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7fe6749b9ee0>
11/01/2023  10:45:51 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T051551Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=55203a3f1b817ca86c4e2104cf122576b0e209cac1fef05c4a820b026e260b56', 'amz-sdk-invocation-id': b'0cd16847-27fe-4a6f-89ca-1712395b5d6d', 'amz-sdk-request': b'attempt=1'}>
11/01/2023  10:45:51 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  10:45:51 AM: DEBUG: Starting new HTTPS connection (1): user-data.s3.amazonaws.com:443
11/01/2023  10:45:53 AM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD /cg HTTP/1.1" 400 0
11/01/2023  10:45:53 AM: DEBUG: Response headers: {'x-amz-request-id': 'YRASPEHTSQYQEC2D', 'x-amz-id-2': 'MN0qXFywNCbZxaIvkhNqKgkdq2H6aFsPHqo47djiz20aVVJsC6XL4/AWDNCtwJYUSP2dKFI3dqk=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:15:53 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
11/01/2023  10:45:53 AM: DEBUG: Response body:
b''
11/01/2023  10:45:53 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe6701bf1f0>
11/01/2023  10:45:53 AM: DEBUG: No retry needed.
11/01/2023  10:45:53 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:53 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe6749bf160>
11/01/2023  10:45:53 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:53 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  10:45:53 AM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
11/01/2023  10:45:53 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  10:45:53 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  10:45:53 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7fe6749be160>
11/01/2023  10:45:53 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7fe6749b9f70>
11/01/2023  10:45:53 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:53 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7fe6749b8f70>
11/01/2023  10:45:53 AM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7fe6749be4c0>
11/01/2023  10:45:53 AM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7fe6749b8c10>
11/01/2023  10:45:53 AM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7fe6749b9820>
11/01/2023  10:45:53 AM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/', 'url': 'https://user-data.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fe670f711c0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data'}}}}
11/01/2023  10:45:53 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe670f71c10>>
11/01/2023  10:45:53 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe67064dbb0>>
11/01/2023  10:45:53 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7fe6749b8e50>
11/01/2023  10:45:53 AM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7fe6749bf0d0>
11/01/2023  10:45:53 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  10:45:53 AM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T051553Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  10:45:53 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T051553Z
20230111/us-east-1/s3/aws4_request
89c98dd061bcef9442234a9e12dfe53ec7da1c591f2cc551c717db8e30e0a919
11/01/2023  10:45:53 AM: DEBUG: Signature:
991affdf0b9903670572e92b986008944c5bbfbdb91203a8f4977ce5daa999fb
11/01/2023  10:45:53 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7fe6749b9ee0>
11/01/2023  10:45:53 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T051553Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=991affdf0b9903670572e92b986008944c5bbfbdb91203a8f4977ce5daa999fb', 'amz-sdk-invocation-id': b'8b7b6bae-84a6-4337-9cba-5b8a319497c3', 'amz-sdk-request': b'attempt=1'}>
11/01/2023  10:45:53 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  10:45:53 AM: DEBUG: Resetting dropped connection: user-data.s3.amazonaws.com
11/01/2023  10:45:54 AM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
11/01/2023  10:45:54 AM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': '1X9WN3WFJ2HBV3T4', 'x-amz-id-2': 'YmXk0DIcUSo+GO48U/CgdKF9pjiZwCXctNFFkQcySELmOA9IrFgNfpm90piqZ1XWcSvgBf1LT8M=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:15:54 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
11/01/2023  10:45:54 AM: DEBUG: Response body:
b''
11/01/2023  10:45:54 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe6701bf1f0>
11/01/2023  10:45:54 AM: DEBUG: No retry needed.
11/01/2023  10:45:54 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:54 AM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
11/01/2023  10:45:54 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe6749bf160>
11/01/2023  10:45:54 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:54 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  10:45:54 AM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
11/01/2023  10:45:54 AM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/ to https://user-data.s3.us-east-2.amazonaws.com/
11/01/2023  10:45:54 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  10:45:54 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  10:45:54 AM: DEBUG: Response received to retry, sleeping for 0 seconds
11/01/2023  10:45:54 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe670f71c10>>
11/01/2023  10:45:54 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe67064dbb0>>
11/01/2023  10:45:54 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7fe6749b8e50>
11/01/2023  10:45:54 AM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7fe6749bf0d0>
11/01/2023  10:45:54 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  10:45:54 AM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T051554Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  10:45:54 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T051554Z
20230111/us-east-2/s3/aws4_request
7ad6036d99e1c568be4b01a45349ba92335652517d45bab02ace9d66057bb679
11/01/2023  10:45:54 AM: DEBUG: Signature:
18a33fa2e3898ccf7ea7681a184a43c8c4b259b79d0103510243edcbc671b821
11/01/2023  10:45:54 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7fe6749b9ee0>
11/01/2023  10:45:54 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T051554Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=18a33fa2e3898ccf7ea7681a184a43c8c4b259b79d0103510243edcbc671b821', 'amz-sdk-invocation-id': b'8b7b6bae-84a6-4337-9cba-5b8a319497c3', 'amz-sdk-request': b'ttl=20230111T051654Z; attempt=2; max=5'}>
11/01/2023  10:45:54 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  10:45:54 AM: DEBUG: Starting new HTTPS connection (1): user-data.s3.us-east-2.amazonaws.com:443
11/01/2023  10:45:56 AM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD / HTTP/1.1" 403 0
11/01/2023  10:45:56 AM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'E4TE6DXMQ8T3T8C2', 'x-amz-id-2': 'K1GZSIRg8jjpzy8aSLeOE77RE9/sCmPXFJNQFfSiwMWkc+Szu7x+gyv5r2c3mAELGrAeEBC+02s=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:15:55 GMT', 'Server': 'AmazonS3'}
11/01/2023  10:45:56 AM: DEBUG: Response body:
b''
11/01/2023  10:45:56 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe6701bf1f0>
11/01/2023  10:45:56 AM: DEBUG: No retry needed.
11/01/2023  10:45:56 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:56 AM: DEBUG: S3 request was previously redirected, not redirecting.
11/01/2023  10:45:56 AM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
11/01/2023  10:45:56 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe6749bf160>
11/01/2023  10:45:56 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:56 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  10:45:56 AM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
11/01/2023  10:45:56 AM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/cg to https://user-data.s3.us-east-2.amazonaws.com/cg
11/01/2023  10:45:56 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  10:45:56 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  10:45:56 AM: DEBUG: Response received to retry, sleeping for 0 seconds
11/01/2023  10:45:56 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe670f71c10>>
11/01/2023  10:45:56 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe67064dbb0>>
11/01/2023  10:45:56 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7fe6749b8e50>
11/01/2023  10:45:56 AM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7fe6749bf0d0>
11/01/2023  10:45:56 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  10:45:56 AM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T051556Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  10:45:56 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T051556Z
20230111/us-east-2/s3/aws4_request
fd53e21bb1f5094d56306c183430f446075fd5d9b3be350f1a3c0b0f59c62b63
11/01/2023  10:45:56 AM: DEBUG: Signature:
38616c34106976ba03c55850bf4009bd062bb4dc31a6e115768e7f9c2e0a631a
11/01/2023  10:45:56 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7fe6749b9ee0>
11/01/2023  10:45:56 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T051556Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=38616c34106976ba03c55850bf4009bd062bb4dc31a6e115768e7f9c2e0a631a', 'amz-sdk-invocation-id': b'0cd16847-27fe-4a6f-89ca-1712395b5d6d', 'amz-sdk-request': b'ttl=20230111T051653Z; attempt=2; max=5'}>
11/01/2023  10:45:56 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  10:45:56 AM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD /cg HTTP/1.1" 403 0
11/01/2023  10:45:56 AM: DEBUG: Response headers: {'x-amz-request-id': 'E4TBQFNQB64ZRBHZ', 'x-amz-id-2': 'URTxhi/irFVenSais/Sz1PCHzJwMd38E6xrKlUbyjcGcKUruDvoZ7vwbpDMO9eE0drQMTO8P3d8=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:15:56 GMT', 'Server': 'AmazonS3'}
11/01/2023  10:45:56 AM: DEBUG: Response body:
b''
11/01/2023  10:45:56 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe6701bf1f0>
11/01/2023  10:45:56 AM: DEBUG: No retry needed.
11/01/2023  10:45:56 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe6701161f0>>
11/01/2023  10:45:56 AM: DEBUG: S3 request was previously redirected, not redirecting.
11/01/2023  10:45:56 AM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 161, in post
    save_file.save('cg', req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 55, in save
    name = self.get_available_name(name, max_length=max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 599, in get_available_name
    return super().get_available_name(name, max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 95, in get_available_name
    while self.exists(name) or (max_length and len(name) > max_length):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 463, in exists
    self.connection.meta.client.head_object(Bucket=self.bucket_name, Key=name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 960, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden
11/01/2023  11:01:50 AM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/celery_redis/settings.py changed, reloading.
11/01/2023  11:01:59 AM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
11/01/2023  11:01:59 AM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
11/01/2023  11:01:59 AM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
11/01/2023  11:01:59 AM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
11/01/2023  11:01:59 AM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
11/01/2023  11:01:59 AM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
11/01/2023  11:01:59 AM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
11/01/2023  11:01:59 AM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
11/01/2023  11:01:59 AM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
11/01/2023  11:01:59 AM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
11/01/2023  11:01:59 AM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
11/01/2023  11:02:00 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/data/s3/2006-03-01/resources-1.json
11/01/2023  11:02:00 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
11/01/2023  11:02:00 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
11/01/2023  11:02:00 AM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7faaf3c8b280>
11/01/2023  11:02:00 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
11/01/2023  11:02:00 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
11/01/2023  11:02:00 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
11/01/2023  11:02:00 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7faaf3d055e0>
11/01/2023  11:02:00 AM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7faaf01f3550>
11/01/2023  11:02:00 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7faaf3d053a0>
11/01/2023  11:02:00 AM: DEBUG: Setting s3 timeout as (60, 60)
11/01/2023  11:02:00 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
11/01/2023  11:02:00 AM: DEBUG: Registering retry handlers for service: s3
11/01/2023  11:02:00 AM: DEBUG: Registering S3 region redirector handler
11/01/2023  11:02:00 AM: DEBUG: Loading s3:s3
11/01/2023  11:02:00 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  11:02:00 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:00 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  11:02:00 AM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
11/01/2023  11:02:00 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  11:02:00 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  11:02:00 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7faaf3ca19d0>
11/01/2023  11:02:00 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7faaf3ca1940>
11/01/2023  11:02:00 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7faaf3c9a790>
11/01/2023  11:02:00 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:00 AM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7faaf3ca1790>
11/01/2023  11:02:00 AM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7faaf3ca1ca0>
11/01/2023  11:02:00 AM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7faaf3ca1430>
11/01/2023  11:02:00 AM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7faaf3c9a040>
11/01/2023  11:02:00 AM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/cg', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/cg', 'url': 'https://user-data.s3.amazonaws.com/cg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7faaf02892b0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data', 'Key': 'cg'}}}}
11/01/2023  11:02:00 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf02894c0>>
11/01/2023  11:02:00 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaf01700a0>>
11/01/2023  11:02:00 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  11:02:00 AM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  11:02:00 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  11:02:00 AM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T053200Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  11:02:00 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T053200Z
20230111/us-east-1/s3/aws4_request
7c01f765539f8d3a99c4573a6ba84682f6c799a3d870f9b5ab5b681e5f29ccfa
11/01/2023  11:02:00 AM: DEBUG: Signature:
b27f39edb9ae4a586fbfc119eab67e63c181fb8e3e9855d31acbe1dd10ed6e9f
11/01/2023  11:02:00 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  11:02:00 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T053200Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b27f39edb9ae4a586fbfc119eab67e63c181fb8e3e9855d31acbe1dd10ed6e9f', 'amz-sdk-invocation-id': b'fbf46411-8678-46b2-98bb-2c15a7dc5869', 'amz-sdk-request': b'attempt=1'}>
11/01/2023  11:02:00 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  11:02:00 AM: DEBUG: Starting new HTTPS connection (1): user-data.s3.amazonaws.com:443
11/01/2023  11:02:01 AM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD /cg HTTP/1.1" 400 0
11/01/2023  11:02:01 AM: DEBUG: Response headers: {'x-amz-request-id': '0ENQCDKRXHEDHMBJ', 'x-amz-id-2': 'DNRfGM1JXErQpAaV2I+PXqNTt3JwBSmb38RA9unMKBEYs0BXNfAsdBtlsrnqShf/y9a2jBmUwJ0=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:32:01 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
11/01/2023  11:02:01 AM: DEBUG: Response body:
b''
11/01/2023  11:02:01 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf0198790>
11/01/2023  11:02:01 AM: DEBUG: No retry needed.
11/01/2023  11:02:01 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:01 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  11:02:01 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:01 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  11:02:01 AM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
11/01/2023  11:02:01 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  11:02:01 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  11:02:01 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7faaf3ca1940>
11/01/2023  11:02:01 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7faaf3c9a790>
11/01/2023  11:02:01 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:01 AM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7faaf3ca1790>
11/01/2023  11:02:01 AM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7faaf3ca1ca0>
11/01/2023  11:02:01 AM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7faaf3ca1430>
11/01/2023  11:02:01 AM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7faaf3c9a040>
11/01/2023  11:02:01 AM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/', 'url': 'https://user-data.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7faaf02892b0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data'}}}}
11/01/2023  11:02:01 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf02894c0>>
11/01/2023  11:02:01 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaf01700a0>>
11/01/2023  11:02:01 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  11:02:01 AM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  11:02:01 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  11:02:01 AM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T053201Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  11:02:01 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T053201Z
20230111/us-east-1/s3/aws4_request
6d8067252db0aa395706829ba6a1c7333c4d370ee703ebeff5b3d728b6e1f7be
11/01/2023  11:02:01 AM: DEBUG: Signature:
80dada38c40304c80efdb5e139501f99edf8cfbfc386a68a3a65b54930992f2d
11/01/2023  11:02:01 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  11:02:01 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T053201Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=80dada38c40304c80efdb5e139501f99edf8cfbfc386a68a3a65b54930992f2d', 'amz-sdk-invocation-id': b'f9364db9-f833-4f31-a96c-e796ffd88680', 'amz-sdk-request': b'attempt=1'}>
11/01/2023  11:02:01 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  11:02:01 AM: DEBUG: Resetting dropped connection: user-data.s3.amazonaws.com
11/01/2023  11:02:03 AM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
11/01/2023  11:02:03 AM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'BMQ1GG9081X87E6X', 'x-amz-id-2': 'DsuU0Jf7l4SRMdTTjK4Pho9DeD80A9JEF7qI+gMplPDcHi1O0KNnqrdk+NP2He5P4YXQPXvVyCA=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:32:02 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
11/01/2023  11:02:03 AM: DEBUG: Response body:
b''
11/01/2023  11:02:03 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf0198790>
11/01/2023  11:02:03 AM: DEBUG: No retry needed.
11/01/2023  11:02:03 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:03 AM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
11/01/2023  11:02:03 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  11:02:03 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:03 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  11:02:03 AM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
11/01/2023  11:02:03 AM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/ to https://user-data.s3.us-east-2.amazonaws.com/
11/01/2023  11:02:03 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  11:02:03 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  11:02:03 AM: DEBUG: Response received to retry, sleeping for 0 seconds
11/01/2023  11:02:03 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf02894c0>>
11/01/2023  11:02:03 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaf01700a0>>
11/01/2023  11:02:03 AM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  11:02:03 AM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  11:02:03 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  11:02:03 AM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T053203Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  11:02:03 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T053203Z
20230111/us-east-2/s3/aws4_request
7512fbab62410ea6a61a532ca43500c2416feed51db224039b8e5dfe4d3a7f44
11/01/2023  11:02:03 AM: DEBUG: Signature:
ad9cf15bd39ee4a3c36e02bef6284ffa0bc6dc642e1b9074235baca3d011d172
11/01/2023  11:02:03 AM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  11:02:03 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T053203Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ad9cf15bd39ee4a3c36e02bef6284ffa0bc6dc642e1b9074235baca3d011d172', 'amz-sdk-invocation-id': b'f9364db9-f833-4f31-a96c-e796ffd88680', 'amz-sdk-request': b'ttl=20230111T053302Z; attempt=2; max=5'}>
11/01/2023  11:02:03 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  11:02:03 AM: DEBUG: Starting new HTTPS connection (1): user-data.s3.us-east-2.amazonaws.com:443
11/01/2023  11:02:04 AM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD / HTTP/1.1" 403 0
11/01/2023  11:02:04 AM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': '7SW6QEJJM2NG8ZVW', 'x-amz-id-2': '9ro2SM+zrH3yPHf1TjDBFoq2bfOZL4HmWm/E0Xr8xGlH18u6JB7QiZOAhNy/6srKuwAnOSCkmQ12bB/PvcDcFA==', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:32:04 GMT', 'Server': 'AmazonS3'}
11/01/2023  11:02:04 AM: DEBUG: Response body:
b''
11/01/2023  11:02:04 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf0198790>
11/01/2023  11:02:04 AM: DEBUG: No retry needed.
11/01/2023  11:02:04 AM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:04 AM: DEBUG: S3 request was previously redirected, not redirecting.
11/01/2023  11:02:04 AM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
11/01/2023  11:02:04 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  11:02:04 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:04 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  11:02:04 AM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
11/01/2023  11:02:04 AM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/cg to https://user-data.s3.us-east-2.amazonaws.com/cg
11/01/2023  11:02:04 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  11:02:04 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  11:02:04 AM: DEBUG: Response received to retry, sleeping for 0 seconds
11/01/2023  11:02:04 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf02894c0>>
11/01/2023  11:02:04 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaf01700a0>>
11/01/2023  11:02:04 AM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  11:02:04 AM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  11:02:04 AM: DEBUG: Calculating signature using v4 auth.
11/01/2023  11:02:04 AM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T053204Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  11:02:04 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T053204Z
20230111/us-east-2/s3/aws4_request
b550ca2c57be59cbb5807fae0e1cedfe8e699549abf37e2126d6b7adcc483b9c
11/01/2023  11:02:04 AM: DEBUG: Signature:
1d799353490307afd99966fa8cb732e3cd3085344b218f88949cf59e8f6a6733
11/01/2023  11:02:04 AM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  11:02:04 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T053204Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1d799353490307afd99966fa8cb732e3cd3085344b218f88949cf59e8f6a6733', 'amz-sdk-invocation-id': b'fbf46411-8678-46b2-98bb-2c15a7dc5869', 'amz-sdk-request': b'ttl=20230111T053301Z; attempt=2; max=5'}>
11/01/2023  11:02:04 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  11:02:04 AM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD /cg HTTP/1.1" 403 0
11/01/2023  11:02:04 AM: DEBUG: Response headers: {'x-amz-request-id': '7SW7KZ1DP9MWSGE3', 'x-amz-id-2': 'Fs+WJKnOQknBP8dI8laa1B9p/LjMBb6fdilXSw+2/ggHhbbQngwfniWZLYDp5iNsTbuezjOOWRGWW0pz02VvwA==', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 05:32:04 GMT', 'Server': 'AmazonS3'}
11/01/2023  11:02:04 AM: DEBUG: Response body:
b''
11/01/2023  11:02:04 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf0198790>
11/01/2023  11:02:04 AM: DEBUG: No retry needed.
11/01/2023  11:02:04 AM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf0198700>>
11/01/2023  11:02:04 AM: DEBUG: S3 request was previously redirected, not redirecting.
11/01/2023  11:02:05 AM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 161, in post
    save_file.save('cg', req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 55, in save
    name = self.get_available_name(name, max_length=max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 599, in get_available_name
    return super().get_available_name(name, max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 95, in get_available_name
    while self.exists(name) or (max_length and len(name) > max_length):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 463, in exists
    self.connection.meta.client.head_object(Bucket=self.bucket_name, Key=name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 960, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden
11/01/2023  12:09:09 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
11/01/2023  12:09:09 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
11/01/2023  12:09:09 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
11/01/2023  12:09:09 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
11/01/2023  12:09:09 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
11/01/2023  12:09:09 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
11/01/2023  12:09:09 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
11/01/2023  12:09:09 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
11/01/2023  12:09:09 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
11/01/2023  12:09:09 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
11/01/2023  12:09:09 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
11/01/2023  12:09:11 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/data/s3/2006-03-01/resources-1.json
11/01/2023  12:09:11 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
11/01/2023  12:09:11 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
11/01/2023  12:09:11 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7faaf3c8b280>
11/01/2023  12:09:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
11/01/2023  12:09:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
11/01/2023  12:09:12 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
11/01/2023  12:09:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7faaf3d055e0>
11/01/2023  12:09:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7faaeaf45dc0>
11/01/2023  12:09:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7faaf3d053a0>
11/01/2023  12:09:12 PM: DEBUG: Setting s3 timeout as (60, 60)
11/01/2023  12:09:13 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
11/01/2023  12:09:13 PM: DEBUG: Registering retry handlers for service: s3
11/01/2023  12:09:13 PM: DEBUG: Registering S3 region redirector handler
11/01/2023  12:09:13 PM: DEBUG: Loading s3:s3
11/01/2023  12:09:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  12:09:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:13 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  12:09:13 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
11/01/2023  12:09:13 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  12:09:13 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  12:09:13 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7faaf3ca19d0>
11/01/2023  12:09:13 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7faaf3ca1940>
11/01/2023  12:09:13 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7faaf3c9a790>
11/01/2023  12:09:13 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:13 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7faaf3ca1790>
11/01/2023  12:09:13 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7faaf3ca1ca0>
11/01/2023  12:09:13 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7faaf3ca1430>
11/01/2023  12:09:13 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7faaf3c9a040>
11/01/2023  12:09:13 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/cg', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/cg', 'url': 'https://user-data.s3.amazonaws.com/cg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7faaf018ff10>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data', 'Key': 'cg'}}}}
11/01/2023  12:09:13 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf018fb20>>
11/01/2023  12:09:13 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaeb03e580>>
11/01/2023  12:09:13 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  12:09:13 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  12:09:13 PM: DEBUG: Calculating signature using v4 auth.
11/01/2023  12:09:13 PM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T063913Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  12:09:13 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T063913Z
20230111/us-east-1/s3/aws4_request
9216e66e386273945ba384f25b9fc82a2051575e6083f2ff2357aa3157dd8e8a
11/01/2023  12:09:13 PM: DEBUG: Signature:
a87fa83c807b623d0096f7bebfc7e1f5f1cce048037bf488d90c1e9943cc7475
11/01/2023  12:09:13 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  12:09:13 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T063913Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a87fa83c807b623d0096f7bebfc7e1f5f1cce048037bf488d90c1e9943cc7475', 'amz-sdk-invocation-id': b'8f84db4c-be37-40a8-a99c-94998b77031a', 'amz-sdk-request': b'attempt=1'}>
11/01/2023  12:09:13 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  12:09:13 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.amazonaws.com:443
11/01/2023  12:09:15 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD /cg HTTP/1.1" 400 0
11/01/2023  12:09:15 PM: DEBUG: Response headers: {'x-amz-request-id': 'A1RGCEYK7P6GWFKS', 'x-amz-id-2': '6VR60nyun2Vqzis+9NaK17Y6WVAuZoov88F1tgAr/fHC7mkr8Ft80dNRosZ1NdxTtkOdl8vL1bo=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 06:39:15 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
11/01/2023  12:09:15 PM: DEBUG: Response body:
b''
11/01/2023  12:09:15 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf015a250>
11/01/2023  12:09:15 PM: DEBUG: No retry needed.
11/01/2023  12:09:15 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:15 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  12:09:15 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:15 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  12:09:15 PM: DEBUG: Endpoint provider result: https://user-data.s3.amazonaws.com
11/01/2023  12:09:15 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  12:09:15 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  12:09:15 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7faaf3ca1940>
11/01/2023  12:09:15 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7faaf3c9a790>
11/01/2023  12:09:15 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:15 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7faaf3ca1790>
11/01/2023  12:09:15 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7faaf3ca1ca0>
11/01/2023  12:09:15 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7faaf3ca1430>
11/01/2023  12:09:15 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7faaf3c9a040>
11/01/2023  12:09:15 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource'}, 'body': b'', 'auth_path': '/user-data/', 'url': 'https://user-data.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7faaf018ff10>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'user-data', 'params': {'Bucket': 'user-data'}}}}
11/01/2023  12:09:15 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf018fb20>>
11/01/2023  12:09:15 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaeb03e580>>
11/01/2023  12:09:15 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  12:09:15 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  12:09:15 PM: DEBUG: Calculating signature using v4 auth.
11/01/2023  12:09:15 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T063915Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  12:09:15 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T063915Z
20230111/us-east-1/s3/aws4_request
52fdddd8e438eabbcfae0941f88607ff8f74740a7a52ac5d62167109544df9e0
11/01/2023  12:09:15 PM: DEBUG: Signature:
d7283c9e2d98ad5ca0859c5a0ed7d5af23578622f7a36ed9a76938b295ac06ec
11/01/2023  12:09:15 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  12:09:15 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T063915Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=d7283c9e2d98ad5ca0859c5a0ed7d5af23578622f7a36ed9a76938b295ac06ec', 'amz-sdk-invocation-id': b'f89bd08f-bf12-4493-bdfa-116b24f05fb1', 'amz-sdk-request': b'attempt=1'}>
11/01/2023  12:09:15 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  12:09:15 PM: DEBUG: Resetting dropped connection: user-data.s3.amazonaws.com
11/01/2023  12:09:16 PM: DEBUG: https://user-data.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
11/01/2023  12:09:16 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': '5456EDWV2B4T4YHR', 'x-amz-id-2': 'GR4cQ4bybwoEpkAh7lSnWi6Z8i/KLx6x7Efzji9U55SaTqydJxKvwEtTaQeSgzxiknIhLKO6+zk=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 06:39:15 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
11/01/2023  12:09:16 PM: DEBUG: Response body:
b''
11/01/2023  12:09:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf015a250>
11/01/2023  12:09:16 PM: DEBUG: No retry needed.
11/01/2023  12:09:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:16 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
11/01/2023  12:09:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  12:09:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:16 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  12:09:16 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
11/01/2023  12:09:16 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/ to https://user-data.s3.us-east-2.amazonaws.com/
11/01/2023  12:09:16 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  12:09:16 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  12:09:16 PM: DEBUG: Response received to retry, sleeping for 0 seconds
11/01/2023  12:09:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf018fb20>>
11/01/2023  12:09:16 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaeb03e580>>
11/01/2023  12:09:16 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  12:09:16 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  12:09:16 PM: DEBUG: Calculating signature using v4 auth.
11/01/2023  12:09:16 PM: DEBUG: CanonicalRequest:
HEAD
/

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T063916Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  12:09:16 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T063916Z
20230111/us-east-2/s3/aws4_request
934b1542839f0c8d07987c4d66ffa32e54d0e87ce82725046199544891d51899
11/01/2023  12:09:16 PM: DEBUG: Signature:
55aaa130065852e61501529951179e539ada355f6d1f8aaf82b94f2606044933
11/01/2023  12:09:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  12:09:16 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T063916Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=55aaa130065852e61501529951179e539ada355f6d1f8aaf82b94f2606044933', 'amz-sdk-invocation-id': b'f89bd08f-bf12-4493-bdfa-116b24f05fb1', 'amz-sdk-request': b'ttl=20230111T064015Z; attempt=2; max=5'}>
11/01/2023  12:09:16 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  12:09:16 PM: DEBUG: Starting new HTTPS connection (1): user-data.s3.us-east-2.amazonaws.com:443
11/01/2023  12:09:18 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD / HTTP/1.1" 403 0
11/01/2023  12:09:18 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'us-east-2', 'x-amz-request-id': 'YBPCRCJC3K7DKGV9', 'x-amz-id-2': '37bbQ/MjwnvDLs9T0A6Qk4+VHAr2ht6ChzByZd0+q5cb0lY4Vv3D5nD9kamYag97McyC2FRw5XQ=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 06:39:17 GMT', 'Server': 'AmazonS3'}
11/01/2023  12:09:18 PM: DEBUG: Response body:
b''
11/01/2023  12:09:18 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf015a250>
11/01/2023  12:09:18 PM: DEBUG: No retry needed.
11/01/2023  12:09:18 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:18 PM: DEBUG: S3 request was previously redirected, not redirecting.
11/01/2023  12:09:18 PM: DEBUG: S3 client configured for region us-east-1 but the bucket user-data is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
11/01/2023  12:09:18 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7faaf3c9a940>
11/01/2023  12:09:18 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:18 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'user-data', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
11/01/2023  12:09:18 PM: DEBUG: Endpoint provider result: https://user-data.s3.us-east-2.amazonaws.com
11/01/2023  12:09:18 PM: DEBUG: Updating URI from https://user-data.s3.amazonaws.com/cg to https://user-data.s3.us-east-2.amazonaws.com/cg
11/01/2023  12:09:18 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
11/01/2023  12:09:18 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
11/01/2023  12:09:18 PM: DEBUG: Response received to retry, sleeping for 0 seconds
11/01/2023  12:09:18 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7faaf018fb20>>
11/01/2023  12:09:18 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7faaeb03e580>>
11/01/2023  12:09:18 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7faaf3ca1670>
11/01/2023  12:09:18 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7faaf3c9a8b0>
11/01/2023  12:09:18 PM: DEBUG: Calculating signature using v4 auth.
11/01/2023  12:09:18 PM: DEBUG: CanonicalRequest:
HEAD
/cg

host:user-data.s3.us-east-2.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230111T063918Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
11/01/2023  12:09:18 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230111T063918Z
20230111/us-east-2/s3/aws4_request
ef41cd7b5122ef83a4440b105c13817dd350f8048409223e0797b54a0df5ae9a
11/01/2023  12:09:18 PM: DEBUG: Signature:
9ce658e65a4bbf7831710cca5e071b0b9eb142d1bbe64ef05b6da31c26630a53
11/01/2023  12:09:18 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7faaf3c9a700>
11/01/2023  12:09:18 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://user-data.s3.us-east-2.amazonaws.com/cg, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46 Resource', 'X-Amz-Date': b'20230111T063918Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RXTJDENWWO/20230111/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=9ce658e65a4bbf7831710cca5e071b0b9eb142d1bbe64ef05b6da31c26630a53', 'amz-sdk-invocation-id': b'8f84db4c-be37-40a8-a99c-94998b77031a', 'amz-sdk-request': b'ttl=20230111T064015Z; attempt=2; max=5'}>
11/01/2023  12:09:18 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
11/01/2023  12:09:18 PM: DEBUG: https://user-data.s3.us-east-2.amazonaws.com:443 "HEAD /cg HTTP/1.1" 403 0
11/01/2023  12:09:18 PM: DEBUG: Response headers: {'x-amz-request-id': 'YBP973VNSX2W71NG', 'x-amz-id-2': 'bQBuX3GAhbFo3K1+8HWk24OWnKyWdS8QWWj5esLYK++FAgaRwmg45P8jsqkDcK7D3f2A23N+f30=', 'Content-Type': 'application/xml', 'Date': 'Wed, 11 Jan 2023 06:39:18 GMT', 'Server': 'AmazonS3'}
11/01/2023  12:09:18 PM: DEBUG: Response body:
b''
11/01/2023  12:09:18 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7faaf015a250>
11/01/2023  12:09:18 PM: DEBUG: No retry needed.
11/01/2023  12:09:18 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7faaf015a340>>
11/01/2023  12:09:18 PM: DEBUG: S3 request was previously redirected, not redirecting.
11/01/2023  12:09:19 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 161, in post
    save_file.save('cg', req_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 55, in save
    name = self.get_available_name(name, max_length=max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 599, in get_available_name
    return super().get_available_name(name, max_length)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/files/storage.py", line 95, in get_available_name
    while self.exists(name) or (max_length and len(name) > max_length):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/storages/backends/s3boto3.py", line 463, in exists
    self.connection.meta.client.head_object(Bucket=self.bucket_name, Key=name)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 960, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden
13/01/2023  03:30:35 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
13/01/2023  03:30:35 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
13/01/2023  03:30:35 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
13/01/2023  03:30:35 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
13/01/2023  03:30:35 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
13/01/2023  03:30:35 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
13/01/2023  03:30:35 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
13/01/2023  03:30:35 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
13/01/2023  03:30:35 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
13/01/2023  03:30:35 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
13/01/2023  03:30:35 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
13/01/2023  03:30:35 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
13/01/2023  03:30:35 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
13/01/2023  03:30:35 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fb6d9b8da60>
13/01/2023  03:30:35 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
13/01/2023  03:30:35 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
13/01/2023  03:30:35 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
13/01/2023  03:30:35 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fb6d2afddc0>
13/01/2023  03:30:35 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fb6d2157430>
13/01/2023  03:30:35 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fb6d2afdb80>
13/01/2023  03:30:35 PM: DEBUG: Setting s3 timeout as (60, 60)
13/01/2023  03:30:35 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
13/01/2023  03:30:35 PM: DEBUG: Registering retry handlers for service: s3
13/01/2023  03:30:35 PM: DEBUG: Registering S3 region redirector handler
13/01/2023  03:30:36 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 178, in post
    uploaded = upload_to_aws(upload_file, 'dj-bkt', f'celery_redis/user-data/{upload_file}')
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 28, in upload_to_aws
    s3.upload_file(local_file, bucket, s3_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/inject.py", line 143, in upload_file
    return transfer.upload_file(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/transfer.py", line 285, in upload_file
    raise ValueError('Filename must be a string or a path-like object')
ValueError: Filename must be a string or a path-like object
13/01/2023  03:44:29 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  03:44:36 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
13/01/2023  03:44:36 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
13/01/2023  03:44:36 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
13/01/2023  03:44:36 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
13/01/2023  03:44:36 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
13/01/2023  03:44:36 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
13/01/2023  03:44:36 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
13/01/2023  03:44:36 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
13/01/2023  03:44:36 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
13/01/2023  03:44:36 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
13/01/2023  03:44:36 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
13/01/2023  03:44:36 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
13/01/2023  03:44:36 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
13/01/2023  03:44:36 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fde540dd700>
13/01/2023  03:44:36 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
13/01/2023  03:44:36 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
13/01/2023  03:44:36 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
13/01/2023  03:44:36 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fde510ada60>
13/01/2023  03:44:36 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fde506ac0d0>
13/01/2023  03:44:36 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fde510ad820>
13/01/2023  03:44:36 PM: DEBUG: Setting s3 timeout as (60, 60)
13/01/2023  03:44:36 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
13/01/2023  03:44:36 PM: DEBUG: Registering retry handlers for service: s3
13/01/2023  03:44:36 PM: DEBUG: Registering S3 region redirector handler
13/01/2023  03:44:36 PM: DEBUG: Acquiring 0
13/01/2023  03:44:36 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fde4b554040>}) about to wait for the following futures []
13/01/2023  03:44:36 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fde4b554040>}) done waiting for dependent futures
13/01/2023  03:44:36 PM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fde4b554040>}) with kwargs {'client': <botocore.client.S3 object at 0x7fde4b682e80>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7fde4b5500a0>, 'osutil': <s3transfer.utils.OSUtils object at 0x7fde4b5500d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7fde4b550370>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fde4b554040>}
13/01/2023  03:44:36 PM: DEBUG: Exception raised.
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 269, in _main
    self._submit(transfer_future=transfer_future, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/upload.py", line 585, in _submit
    upload_input_manager.provide_transfer_size(transfer_future)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/upload.py", line 244, in provide_transfer_size
    self._osutil.get_file_size(transfer_future.meta.call_args.fileobj)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/utils.py", line 247, in get_file_size
    return os.path.getsize(filename)
  File "/usr/lib/python3.8/genericpath.py", line 50, in getsize
    return os.stat(filename).st_size
FileNotFoundError: [Errno 2] No such file or directory: '20221014_173501-01-01.jpeg'
13/01/2023  03:44:36 PM: DEBUG: Releasing acquire 0/None
13/01/2023  03:44:36 PM: WARNING: Forbidden: /add-s3/
13/01/2023  03:45:01 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  03:45:04 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
13/01/2023  03:45:04 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
13/01/2023  03:45:04 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
13/01/2023  03:45:04 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
13/01/2023  03:45:04 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
13/01/2023  03:45:04 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
13/01/2023  03:45:04 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
13/01/2023  03:45:04 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
13/01/2023  03:45:04 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
13/01/2023  03:45:04 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
13/01/2023  03:45:04 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
13/01/2023  03:45:04 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
13/01/2023  03:45:04 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
13/01/2023  03:45:04 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fca9935ea60>
13/01/2023  03:45:04 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
13/01/2023  03:45:04 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
13/01/2023  03:45:04 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
13/01/2023  03:45:04 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fca9636ddc0>
13/01/2023  03:45:04 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fca95a00160>
13/01/2023  03:45:04 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fca9636db80>
13/01/2023  03:45:04 PM: DEBUG: Setting s3 timeout as (60, 60)
13/01/2023  03:45:04 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
13/01/2023  03:45:04 PM: DEBUG: Registering retry handlers for service: s3
13/01/2023  03:45:04 PM: DEBUG: Registering S3 region redirector handler
13/01/2023  03:45:25 PM: DEBUG: Acquiring 0
13/01/2023  03:45:25 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fca947fe160>}) about to wait for the following futures []
13/01/2023  03:45:25 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fca947fe160>}) done waiting for dependent futures
13/01/2023  03:45:25 PM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fca947fe160>}) with kwargs {'client': <botocore.client.S3 object at 0x7fca94ab7340>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7fca9480f340>, 'osutil': <s3transfer.utils.OSUtils object at 0x7fca9480feb0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7fca9480ff40>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fca947fe160>}
13/01/2023  03:45:25 PM: DEBUG: Exception raised.
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 269, in _main
    self._submit(transfer_future=transfer_future, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/upload.py", line 585, in _submit
    upload_input_manager.provide_transfer_size(transfer_future)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/upload.py", line 244, in provide_transfer_size
    self._osutil.get_file_size(transfer_future.meta.call_args.fileobj)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/utils.py", line 247, in get_file_size
    return os.path.getsize(filename)
  File "/usr/lib/python3.8/genericpath.py", line 50, in getsize
    return os.stat(filename).st_size
FileNotFoundError: [Errno 2] No such file or directory: '20221014_173501-01-01.jpeg'
13/01/2023  03:45:25 PM: DEBUG: Releasing acquire 0/None
13/01/2023  05:01:46 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:04:03 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:04:07 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
AssertionError: Expected a `Response`, `HttpResponse` or `HttpStreamingResponse` to be returned from the view, but received a `<class 'NoneType'>`
13/01/2023  05:04:39 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:04:41 PM: WARNING: Forbidden: /add-s3/
13/01/2023  05:05:28 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:07:19 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:07:31 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:08:27 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:09:14 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 181, in post
    uploaded = upload_to_aws(request.data['file_pth'], 'dj-bkt', f'celery_redis/user-data/{val_data}')
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 181, in post
    uploaded = upload_to_aws(request.data['file_pth'], 'dj-bkt', f'celery_redis/user-data/{val_data}')
  File "/usr/lib/python3.8/bdb.py", line 88, in trace_dispatch
    return self.dispatch_line(frame)
  File "/usr/lib/python3.8/bdb.py", line 113, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
13/01/2023  05:10:32 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:11:47 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:13:01 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:13:58 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:14:01 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
13/01/2023  05:14:01 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
13/01/2023  05:14:01 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
13/01/2023  05:14:01 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
13/01/2023  05:14:01 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
13/01/2023  05:14:01 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
13/01/2023  05:14:01 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
13/01/2023  05:14:01 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
13/01/2023  05:14:01 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
13/01/2023  05:14:01 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
13/01/2023  05:14:01 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
13/01/2023  05:14:01 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
13/01/2023  05:14:01 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
13/01/2023  05:14:01 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f66844a1280>
13/01/2023  05:14:01 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
13/01/2023  05:14:01 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
13/01/2023  05:14:01 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
13/01/2023  05:14:01 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f668451d5e0>
13/01/2023  05:14:01 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f6680a7bee0>
13/01/2023  05:14:01 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f668451d3a0>
13/01/2023  05:14:01 PM: DEBUG: Setting s3 timeout as (60, 60)
13/01/2023  05:14:01 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
13/01/2023  05:14:01 PM: DEBUG: Registering retry handlers for service: s3
13/01/2023  05:14:01 PM: DEBUG: Registering S3 region redirector handler
13/01/2023  05:14:05 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 182, in post
    uploaded = upload_to_aws(request.data['file_pth'], 'dj-bkt', f'celery_redis/user-data/{val_data}')
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 29, in upload_to_aws
    s3.upload_file(local_file.name, bucket, s3_file)
AttributeError: 'str' object has no attribute 'name'
13/01/2023  05:14:24 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
13/01/2023  05:14:25 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
13/01/2023  05:14:25 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
13/01/2023  05:14:25 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
13/01/2023  05:14:25 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
13/01/2023  05:14:25 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
13/01/2023  05:14:25 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
13/01/2023  05:14:25 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
13/01/2023  05:14:25 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
13/01/2023  05:14:25 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
13/01/2023  05:14:25 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
13/01/2023  05:14:25 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
13/01/2023  05:14:25 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
13/01/2023  05:14:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
13/01/2023  05:14:26 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fb55553faf0>
13/01/2023  05:14:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
13/01/2023  05:14:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
13/01/2023  05:14:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
13/01/2023  05:14:26 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fb55254ee50>
13/01/2023  05:14:26 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fb551bd3ca0>
13/01/2023  05:14:26 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fb55254ec10>
13/01/2023  05:14:26 PM: DEBUG: Setting s3 timeout as (60, 60)
13/01/2023  05:14:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
13/01/2023  05:14:26 PM: DEBUG: Registering retry handlers for service: s3
13/01/2023  05:14:26 PM: DEBUG: Registering S3 region redirector handler
13/01/2023  05:14:26 PM: DEBUG: Acquiring 0
13/01/2023  05:14:26 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fb550a1d520>}) about to wait for the following futures []
13/01/2023  05:14:26 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fb550a1d520>}) done waiting for dependent futures
13/01/2023  05:14:26 PM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fb550a1d520>}) with kwargs {'client': <botocore.client.S3 object at 0x7fb550c92310>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7fb550a1a580>, 'osutil': <s3transfer.utils.OSUtils object at 0x7fb550a1a5b0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7fb550a1a850>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fb550a1d520>}
13/01/2023  05:14:26 PM: DEBUG: Submitting task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/demo.html', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7fb550a1a850> for transfer request: 0.
13/01/2023  05:14:26 PM: DEBUG: Acquiring 0
13/01/2023  05:14:26 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/demo.html', 'extra_args': {}}) about to wait for the following futures []
13/01/2023  05:14:26 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/demo.html', 'extra_args': {}}) done waiting for dependent futures
13/01/2023  05:14:26 PM: DEBUG: Executing task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/demo.html', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7fb550c92310>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x7fb550a1db80>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/demo.html', 'extra_args': {}}
13/01/2023  05:14:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fb55555e1f0>
13/01/2023  05:14:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fb550a1a4c0>>
13/01/2023  05:14:26 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
13/01/2023  05:14:26 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
13/01/2023  05:14:26 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
13/01/2023  05:14:26 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
13/01/2023  05:14:26 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x7fb55555de50>
13/01/2023  05:14:26 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x7fb55555d280>
13/01/2023  05:14:26 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x7fb555559790>
13/01/2023  05:14:26 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x7fb55555d1f0>
13/01/2023  05:14:26 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7fb55555e040>
13/01/2023  05:14:26 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7fb550a1a4c0>>
13/01/2023  05:14:26 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x7fb55555d040>
13/01/2023  05:14:26 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x7fb55259b790>
13/01/2023  05:14:26 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x7fb55555d550>
13/01/2023  05:14:26 PM: DEBUG: Adding expect 100 continue header to request.
13/01/2023  05:14:26 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x7fb555556ca0>
13/01/2023  05:14:26 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x7fb5555598b0>
13/01/2023  05:14:26 PM: DEBUG: Making request for OperationModel(name=PutObject) with params: {'url_path': '/celery_redis/user-data/demo.html', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46', 'Content-MD5': '7byy3YCJskNWA0PjyRP6JA==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x7fb550a1db80>, 'auth_path': '/dj-bkt/celery_redis/user-data/demo.html', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/demo.html', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fb550c922b0>, 'has_streaming_input': True, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/demo.html', 'Body': <s3transfer.utils.ReadFileChunk object at 0x7fb550a1db80>}}}}
13/01/2023  05:14:26 PM: DEBUG: Releasing acquire 0/None
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7fb5522169d0>
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fb550c922e0>>
13/01/2023  05:14:26 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fb5512ccb20>>
13/01/2023  05:14:26 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7fb555556ee0>
13/01/2023  05:14:26 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7fb55555e160>
13/01/2023  05:14:26 PM: DEBUG: Calculating signature using v4 auth.
13/01/2023  05:14:26 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/demo.html

content-md5:7byy3YCJskNWA0PjyRP6JA==
host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230113T114426Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
13/01/2023  05:14:26 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230113T114426Z
20230113/us-east-1/s3/aws4_request
2f157f84a5ad12274a878f622006e9e68d280625c7866a066da8087df86d97ed
13/01/2023  05:14:26 PM: DEBUG: Signature:
f0c9508dbc32df64e0c1c0bc6dfe1d37fdc120d4091d4ce02c0babff73191344
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7fb552216a60>
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7fb555559f70>
13/01/2023  05:14:26 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/demo.html, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46', 'Content-MD5': b'7byy3YCJskNWA0PjyRP6JA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230113T114426Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230113/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=f0c9508dbc32df64e0c1c0bc6dfe1d37fdc120d4091d4ce02c0babff73191344', 'amz-sdk-invocation-id': b'34863f5f-5e70-48cc-8108-d38c036f9357', 'amz-sdk-request': b'attempt=1', 'Content-Length': '1552'}>
13/01/2023  05:14:26 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
13/01/2023  05:14:26 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
13/01/2023  05:14:26 PM: DEBUG: Waiting for 100 Continue response.
13/01/2023  05:14:26 PM: DEBUG: Received a non 100 Continue response from the server, NOT sending request body.
13/01/2023  05:14:26 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "PUT /celery_redis/user-data/demo.html HTTP/1.1" 400 None
13/01/2023  05:14:26 PM: DEBUG: Response headers: {'x-amz-request-id': 'W505QDX387GD08C7', 'x-amz-id-2': 'l0VELSR6aJWGQmWTf3GBtHxmwN4GOJn976R3AfN+rdada432I1IcnXhxxX95/VwbKjsWWMVc3vc=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 13 Jan 2023 11:44:26 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
13/01/2023  05:14:26 PM: DEBUG: Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'ap-south-1\'</Message><Region>ap-south-1</Region><RequestId>W505QDX387GD08C7</RequestId><HostId>l0VELSR6aJWGQmWTf3GBtHxmwN4GOJn976R3AfN+rdada432I1IcnXhxxX95/VwbKjsWWMVc3vc=</HostId></Error>'
13/01/2023  05:14:26 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fb550a1a460>
13/01/2023  05:14:26 PM: DEBUG: No retry needed.
13/01/2023  05:14:26 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fb550a1a4c0>>
13/01/2023  05:14:26 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
13/01/2023  05:14:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fb55555e1f0>
13/01/2023  05:14:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fb550a1a4c0>>
13/01/2023  05:14:26 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
13/01/2023  05:14:26 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
13/01/2023  05:14:26 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/demo.html to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/demo.html
13/01/2023  05:14:26 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
13/01/2023  05:14:26 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
13/01/2023  05:14:26 PM: DEBUG: Response received to retry, sleeping for 0 seconds
13/01/2023  05:14:26 PM: DEBUG: Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x7fb550a1db80>
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7fb5522169d0>
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fb550c922e0>>
13/01/2023  05:14:26 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fb5512ccb20>>
13/01/2023  05:14:26 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7fb555556ee0>
13/01/2023  05:14:26 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7fb55555e160>
13/01/2023  05:14:26 PM: DEBUG: Calculating signature using v4 auth.
13/01/2023  05:14:26 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/demo.html

content-md5:7byy3YCJskNWA0PjyRP6JA==
host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230113T114426Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
13/01/2023  05:14:26 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230113T114426Z
20230113/ap-south-1/s3/aws4_request
dc5a5567080d520ce8e9188684a89d67e74038645975b83c934d4ec21f498ea5
13/01/2023  05:14:26 PM: DEBUG: Signature:
df52ff54c47acde92a91acb853351e5e22cdf1a006661a1783740f137f54787d
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7fb552216a60>
13/01/2023  05:14:26 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7fb555559f70>
13/01/2023  05:14:26 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/demo.html, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-57-generic Botocore/1.29.46', 'Content-MD5': b'7byy3YCJskNWA0PjyRP6JA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230113T114426Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230113/ap-south-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=df52ff54c47acde92a91acb853351e5e22cdf1a006661a1783740f137f54787d', 'amz-sdk-invocation-id': b'34863f5f-5e70-48cc-8108-d38c036f9357', 'amz-sdk-request': b'ttl=20230113T114526Z; attempt=2; max=5', 'Content-Length': '1552'}>
13/01/2023  05:14:26 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
13/01/2023  05:14:26 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
13/01/2023  05:14:26 PM: DEBUG: Waiting for 100 Continue response.
13/01/2023  05:14:26 PM: DEBUG: 100 Continue response seen, now sending request body.
13/01/2023  05:14:26 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "PUT /celery_redis/user-data/demo.html HTTP/1.1" 200 0
13/01/2023  05:14:26 PM: DEBUG: Response headers: {'x-amz-id-2': '/PldO4RayfQVSRVttl0pdFn9sfbTv/PSSzV44WKYpHTxvFFbRTmi6yFa9IaaiN2Atf5zi2gIDsb5rb2kodUrzA==', 'x-amz-request-id': 'W5067MYGQ09MZ5F2', 'Date': 'Fri, 13 Jan 2023 11:44:27 GMT', 'x-amz-version-id': 'gqwsxmM3VG7Ra7wa5lj1otS.c85HyemE', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"edbcb2dd8089b243560343e3c913fa24"', 'Server': 'AmazonS3', 'Content-Length': '0'}
13/01/2023  05:14:26 PM: DEBUG: Response body:
b''
13/01/2023  05:14:26 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fb550a1a460>
13/01/2023  05:14:26 PM: DEBUG: No retry needed.
13/01/2023  05:14:26 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fb550a1a4c0>>
13/01/2023  05:14:26 PM: DEBUG: S3 request was previously redirected, not redirecting.
13/01/2023  05:14:26 PM: DEBUG: Releasing acquire 0/None
16/01/2023  09:58:19 AM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
16/01/2023  09:58:19 AM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
16/01/2023  09:58:19 AM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
16/01/2023  09:58:19 AM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
16/01/2023  09:58:19 AM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
16/01/2023  09:58:19 AM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
16/01/2023  09:58:19 AM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
16/01/2023  09:58:19 AM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
16/01/2023  09:58:19 AM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
16/01/2023  09:58:19 AM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
16/01/2023  09:58:19 AM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
16/01/2023  09:58:19 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
16/01/2023  09:58:19 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
16/01/2023  09:58:19 AM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fe64cd93310>
16/01/2023  09:58:20 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
16/01/2023  09:58:20 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
16/01/2023  09:58:20 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
16/01/2023  09:58:20 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fe64ce0c670>
16/01/2023  09:58:20 AM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fe64936a040>
16/01/2023  09:58:20 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fe64ce0c430>
16/01/2023  09:58:20 AM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  09:58:20 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
16/01/2023  09:58:20 AM: DEBUG: Registering retry handlers for service: s3
16/01/2023  09:58:20 AM: DEBUG: Registering S3 region redirector handler
16/01/2023  09:58:20 AM: DEBUG: Acquiring 0
16/01/2023  09:58:20 AM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe648a65a90>}) about to wait for the following futures []
16/01/2023  09:58:20 AM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe648a65a90>}) done waiting for dependent futures
16/01/2023  09:58:20 AM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe648a65a90>}) with kwargs {'client': <botocore.client.S3 object at 0x7fe64939e0d0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7fe648a489a0>, 'osutil': <s3transfer.utils.OSUtils object at 0x7fe648a48dc0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7fe648a56280>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe648a65a90>}
16/01/2023  09:58:20 AM: DEBUG: Submitting task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7fe648a56280> for transfer request: 0.
16/01/2023  09:58:20 AM: DEBUG: Acquiring 0
16/01/2023  09:58:20 AM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  09:58:20 AM: DEBUG: Releasing acquire 0/None
16/01/2023  09:58:20 AM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  09:58:20 AM: DEBUG: Executing task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7fe64939e0d0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x7fe648a71160>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}
16/01/2023  09:58:20 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe64cda89d0>
16/01/2023  09:58:20 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe648a48c40>>
16/01/2023  09:58:20 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  09:58:20 AM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  09:58:20 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  09:58:20 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  09:58:20 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x7fe64cdaa670>
16/01/2023  09:58:20 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x7fe64cda7a60>
16/01/2023  09:58:20 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x7fe64cdaaf70>
16/01/2023  09:58:20 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x7fe64cda79d0>
16/01/2023  09:58:20 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7fe64cda8820>
16/01/2023  09:58:20 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe648a48c40>>
16/01/2023  09:58:20 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x7fe64cda7820>
16/01/2023  09:58:20 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x7fe649da9f70>
16/01/2023  09:58:20 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x7fe64cda7d30>
16/01/2023  09:58:20 AM: DEBUG: Adding expect 100 continue header to request.
16/01/2023  09:58:20 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x7fe64cda74c0>
16/01/2023  09:58:20 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x7fe64cda80d0>
16/01/2023  09:58:20 AM: DEBUG: Making request for OperationModel(name=PutObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': 'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x7fe648a71160>, 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fe64939fb80>, 'has_streaming_input': True, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt', 'Body': <s3transfer.utils.ReadFileChunk object at 0x7fe648a71160>}}}}
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7fe649a28e50>
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe64939eca0>>
16/01/2023  09:58:20 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe648a7b850>>
16/01/2023  09:58:20 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7fe64cda7700>
16/01/2023  09:58:20 AM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7fe64cda8940>
16/01/2023  09:58:20 AM: DEBUG: Calculating signature using v4 auth.
16/01/2023  09:58:20 AM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T042820Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  09:58:20 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T042820Z
20230116/us-east-1/s3/aws4_request
a8354214c8c96950c923a5b7e36346ae0c598696f9322361d7bcb9f18c466836
16/01/2023  09:58:20 AM: DEBUG: Signature:
faa95ec5e13ea96b48bbd8749f0637039538c25349b2961f1d41acb50123b374
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7fe649a28ee0>
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7fe64cda8790>
16/01/2023  09:58:20 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T042820Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=faa95ec5e13ea96b48bbd8749f0637039538c25349b2961f1d41acb50123b374', 'amz-sdk-invocation-id': b'9975e4cc-c6d1-4543-8e69-85da59d5d71c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '367'}>
16/01/2023  09:58:20 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  09:58:20 AM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  09:58:20 AM: DEBUG: Waiting for 100 Continue response.
16/01/2023  09:58:20 AM: DEBUG: Received a non 100 Continue response from the server, NOT sending request body.
16/01/2023  09:58:20 AM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 400 None
16/01/2023  09:58:20 AM: DEBUG: Response headers: {'x-amz-request-id': 'MRTYEENGFSJMXG7J', 'x-amz-id-2': 'jqiL7yFydU6NuymShWScsnNswsbAgcPjmPsiwSq8C9tiZ343muw5OfUzkWJWGPOoT4vc5frofK8=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 16 Jan 2023 04:28:20 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  09:58:20 AM: DEBUG: Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'ap-south-1\'</Message><Region>ap-south-1</Region><RequestId>MRTYEENGFSJMXG7J</RequestId><HostId>jqiL7yFydU6NuymShWScsnNswsbAgcPjmPsiwSq8C9tiZ343muw5OfUzkWJWGPOoT4vc5frofK8=</HostId></Error>'
16/01/2023  09:58:20 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe648a48a60>
16/01/2023  09:58:20 AM: DEBUG: No retry needed.
16/01/2023  09:58:20 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe648a48c40>>
16/01/2023  09:58:20 AM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  09:58:20 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe64cda89d0>
16/01/2023  09:58:20 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe648a48c40>>
16/01/2023  09:58:20 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  09:58:20 AM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  09:58:20 AM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  09:58:20 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  09:58:20 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  09:58:20 AM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  09:58:20 AM: DEBUG: Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x7fe648a71160>
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7fe649a28e50>
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe64939eca0>>
16/01/2023  09:58:20 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe648a7b850>>
16/01/2023  09:58:20 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7fe64cda7700>
16/01/2023  09:58:20 AM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7fe64cda8940>
16/01/2023  09:58:20 AM: DEBUG: Calculating signature using v4 auth.
16/01/2023  09:58:20 AM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T042820Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  09:58:20 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T042820Z
20230116/ap-south-1/s3/aws4_request
e1c017329fae50057f746ad940fbee0189bfd54df641d450e9b6645265b59ca9
16/01/2023  09:58:20 AM: DEBUG: Signature:
10ec2d7c332e4c0363634352743b66242157dc5b5c8fb4a0f8a0edc4141d18ff
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7fe649a28ee0>
16/01/2023  09:58:20 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7fe64cda8790>
16/01/2023  09:58:20 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T042820Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=10ec2d7c332e4c0363634352743b66242157dc5b5c8fb4a0f8a0edc4141d18ff', 'amz-sdk-invocation-id': b'9975e4cc-c6d1-4543-8e69-85da59d5d71c', 'amz-sdk-request': b'ttl=20230116T042920Z; attempt=2; max=5', 'Content-Length': '367'}>
16/01/2023  09:58:20 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  09:58:20 AM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  09:58:21 AM: DEBUG: Waiting for 100 Continue response.
16/01/2023  09:58:21 AM: DEBUG: 100 Continue response seen, now sending request body.
16/01/2023  09:58:21 AM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  09:58:21 AM: DEBUG: Response headers: {'x-amz-id-2': 'pFoCCVpAPqkjjh0Nxyb/8r0WzfKtO5oXOzdemzrqcwfChfwM4iSCYcEACtm1c9V68hqqQFBzzk58+KRPXPKrMg==', 'x-amz-request-id': '70B6XYBPFD1KNWA2', 'Date': 'Mon, 16 Jan 2023 04:28:22 GMT', 'x-amz-version-id': 'AFrkfXDHYcr0nbpx6XVAlE9w9j7uYkOx', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'Server': 'AmazonS3', 'Content-Length': '0'}
16/01/2023  09:58:21 AM: DEBUG: Response body:
b''
16/01/2023  09:58:21 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe648a48a60>
16/01/2023  09:58:21 AM: DEBUG: No retry needed.
16/01/2023  09:58:21 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe648a48c40>>
16/01/2023  09:58:21 AM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  09:58:21 AM: DEBUG: Releasing acquire 0/None
16/01/2023  11:27:11 AM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fe64cd93310>
16/01/2023  11:27:12 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fe64ce0c670>
16/01/2023  11:27:12 AM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7fe64936a040>
16/01/2023  11:27:12 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fe64ce0c430>
16/01/2023  11:27:12 AM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  11:27:12 AM: DEBUG: Registering retry handlers for service: s3
16/01/2023  11:27:12 AM: DEBUG: Registering S3 region redirector handler
16/01/2023  11:27:12 AM: DEBUG: Acquiring 0
16/01/2023  11:27:12 AM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe649366520>}) about to wait for the following futures []
16/01/2023  11:27:12 AM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe649366520>}) done waiting for dependent futures
16/01/2023  11:27:12 AM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe649366520>}) with kwargs {'client': <botocore.client.S3 object at 0x7fe6481cec40>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7fe64819f610>, 'osutil': <s3transfer.utils.OSUtils object at 0x7fe64819f070>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7fe64819fc70>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7fe649366520>}
16/01/2023  11:27:12 AM: DEBUG: Submitting task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7fe64819fc70> for transfer request: 0.
16/01/2023  11:27:12 AM: DEBUG: Acquiring 0
16/01/2023  11:27:12 AM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  11:27:12 AM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  11:27:12 AM: DEBUG: Releasing acquire 0/None
16/01/2023  11:27:12 AM: DEBUG: Executing task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7fe6481cec40>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x7fe648198880>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}
16/01/2023  11:27:12 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe64cda89d0>
16/01/2023  11:27:12 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe64819feb0>>
16/01/2023  11:27:12 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  11:27:12 AM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  11:27:12 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  11:27:12 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  11:27:12 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x7fe64cdaa670>
16/01/2023  11:27:12 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x7fe64cda7a60>
16/01/2023  11:27:12 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x7fe64cdaaf70>
16/01/2023  11:27:12 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x7fe64cda79d0>
16/01/2023  11:27:12 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7fe64cda8820>
16/01/2023  11:27:12 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe64819feb0>>
16/01/2023  11:27:12 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x7fe64cda7820>
16/01/2023  11:27:12 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x7fe649da9f70>
16/01/2023  11:27:12 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x7fe64cda7d30>
16/01/2023  11:27:12 AM: DEBUG: Adding expect 100 continue header to request.
16/01/2023  11:27:12 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x7fe64cda74c0>
16/01/2023  11:27:12 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x7fe64cda80d0>
16/01/2023  11:27:12 AM: DEBUG: Making request for OperationModel(name=PutObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': 'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x7fe648198880>, 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fe6481ced30>, 'has_streaming_input': True, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt', 'Body': <s3transfer.utils.ReadFileChunk object at 0x7fe648198880>}}}}
16/01/2023  11:27:12 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7fe649a28e50>
16/01/2023  11:27:12 AM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe6481cee50>>
16/01/2023  11:27:12 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe648174790>>
16/01/2023  11:27:12 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7fe64cda7700>
16/01/2023  11:27:12 AM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7fe64cda8940>
16/01/2023  11:27:12 AM: DEBUG: Calculating signature using v4 auth.
16/01/2023  11:27:12 AM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T055712Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  11:27:12 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T055712Z
20230116/us-east-1/s3/aws4_request
c7c86a92946a7f39a92c4acc03e1fb164eb834e23e8ee5d941a935923373370c
16/01/2023  11:27:12 AM: DEBUG: Signature:
f6d1f64980be800cb2a153123729b09ebf121e01793eb50e8d02e7b839f2b78e
16/01/2023  11:27:12 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7fe649a28ee0>
16/01/2023  11:27:12 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7fe64cda8790>
16/01/2023  11:27:12 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T055712Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=f6d1f64980be800cb2a153123729b09ebf121e01793eb50e8d02e7b839f2b78e', 'amz-sdk-invocation-id': b'24122262-8052-41a0-b651-c8ad73f4d7e4', 'amz-sdk-request': b'attempt=1', 'Content-Length': '367'}>
16/01/2023  11:27:12 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  11:27:12 AM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  11:27:13 AM: DEBUG: Waiting for 100 Continue response.
16/01/2023  11:27:13 AM: DEBUG: Received a non 100 Continue response from the server, NOT sending request body.
16/01/2023  11:27:13 AM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 400 None
16/01/2023  11:27:13 AM: DEBUG: Response headers: {'x-amz-request-id': '6RYA3C1R4PQDXV85', 'x-amz-id-2': 'YgnmgpkcAzPi6160xaZUZNdZ3B4fhrXe4NpaiQ6bnYKBHP3l9ymBZzQmpsziXt4AOwlnUNX34uI=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 16 Jan 2023 05:57:13 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  11:27:13 AM: DEBUG: Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'ap-south-1\'</Message><Region>ap-south-1</Region><RequestId>6RYA3C1R4PQDXV85</RequestId><HostId>YgnmgpkcAzPi6160xaZUZNdZ3B4fhrXe4NpaiQ6bnYKBHP3l9ymBZzQmpsziXt4AOwlnUNX34uI=</HostId></Error>'
16/01/2023  11:27:13 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe64819fb20>
16/01/2023  11:27:13 AM: DEBUG: No retry needed.
16/01/2023  11:27:13 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe64819feb0>>
16/01/2023  11:27:13 AM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  11:27:13 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7fe64cda89d0>
16/01/2023  11:27:13 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe64819feb0>>
16/01/2023  11:27:13 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  11:27:13 AM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  11:27:13 AM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  11:27:13 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  11:27:13 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  11:27:13 AM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  11:27:13 AM: DEBUG: Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x7fe648198880>
16/01/2023  11:27:13 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7fe649a28e50>
16/01/2023  11:27:13 AM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fe6481cee50>>
16/01/2023  11:27:13 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fe648174790>>
16/01/2023  11:27:13 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7fe64cda7700>
16/01/2023  11:27:13 AM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7fe64cda8940>
16/01/2023  11:27:13 AM: DEBUG: Calculating signature using v4 auth.
16/01/2023  11:27:13 AM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T055713Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  11:27:13 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T055713Z
20230116/ap-south-1/s3/aws4_request
3556b3ef8f5f32a6a2a7f6429a30b76204f7ae456f3955547e6018a5a87a0b5c
16/01/2023  11:27:13 AM: DEBUG: Signature:
4ac418191df1a2493779b52e288080197d6a3c9a06283a72b8afee4457e371f1
16/01/2023  11:27:13 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7fe649a28ee0>
16/01/2023  11:27:13 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7fe64cda8790>
16/01/2023  11:27:13 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T055713Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=4ac418191df1a2493779b52e288080197d6a3c9a06283a72b8afee4457e371f1', 'amz-sdk-invocation-id': b'24122262-8052-41a0-b651-c8ad73f4d7e4', 'amz-sdk-request': b'ttl=20230116T055813Z; attempt=2; max=5', 'Content-Length': '367'}>
16/01/2023  11:27:13 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  11:27:13 AM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  11:27:13 AM: DEBUG: Waiting for 100 Continue response.
16/01/2023  11:27:13 AM: DEBUG: 100 Continue response seen, now sending request body.
16/01/2023  11:27:13 AM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  11:27:13 AM: DEBUG: Response headers: {'x-amz-id-2': 'jASWsoY65zZWXOr0ytg7N+E6VetwSPV+85abtiK9/UykvXZVvK88cKrP1rHkdwIFHaFj8hCJgb4=', 'x-amz-request-id': '6RYCQHB9YQ5XPQDE', 'Date': 'Mon, 16 Jan 2023 05:57:14 GMT', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'Server': 'AmazonS3', 'Content-Length': '0'}
16/01/2023  11:27:13 AM: DEBUG: Response body:
b''
16/01/2023  11:27:13 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7fe64819fb20>
16/01/2023  11:27:13 AM: DEBUG: No retry needed.
16/01/2023  11:27:13 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7fe64819feb0>>
16/01/2023  11:27:13 AM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  11:27:13 AM: DEBUG: Releasing acquire 0/None
16/01/2023  11:51:36 AM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  11:52:13 AM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  12:04:59 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  12:12:12 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  12:13:22 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
16/01/2023  12:13:22 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
16/01/2023  12:13:22 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
16/01/2023  12:13:22 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
16/01/2023  12:13:22 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
16/01/2023  12:13:22 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
16/01/2023  12:13:22 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
16/01/2023  12:13:22 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
16/01/2023  12:13:22 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
16/01/2023  12:13:22 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
16/01/2023  12:13:22 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
16/01/2023  12:13:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
16/01/2023  12:13:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
16/01/2023  12:13:22 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f764257faf0>
16/01/2023  12:13:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
16/01/2023  12:13:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
16/01/2023  12:13:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
16/01/2023  12:13:22 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f763b57ce50>
16/01/2023  12:13:22 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f76423dd430>
16/01/2023  12:13:22 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f763b57cc10>
16/01/2023  12:13:22 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:13:22 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
16/01/2023  12:13:22 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:13:22 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:13:22 PM: DEBUG: Acquiring 0
16/01/2023  12:13:22 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f76399e2d90>}) about to wait for the following futures []
16/01/2023  12:13:22 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f76399e2d90>}) done waiting for dependent futures
16/01/2023  12:13:22 PM: DEBUG: Executing task DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f76399e2d90>}) with kwargs {'client': <botocore.client.S3 object at 0x7f7639c96b80>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f76399d5df0>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f76399d5e20>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f76399e2100>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f76399e2d90>, 'io_executor': <s3transfer.futures.BoundedExecutor object at 0x7f76399e2760>}
16/01/2023  12:13:22 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f764259f1f0>
16/01/2023  12:13:22 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f76399d5d30>>
16/01/2023  12:13:22 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': '/home/arjun.v@ah.zymrinc.com/s3_download', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:13:22 PM: DEBUG: Endpoint provider result: https://s3.amazonaws.com/%2Fhome%2Farjun.v%40ah.zymrinc.com%2Fs3_download
16/01/2023  12:13:22 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:13:22 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:13:22 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f764259c280>
16/01/2023  12:13:22 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f764259c1f0>
16/01/2023  12:13:22 PM: DEBUG: Exception raised.
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 269, in _main
    self._submit(transfer_future=transfer_future, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 354, in _submit
    response = client.head_object(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 919, in _make_api_call
    request_dict = self._convert_to_request_dict(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 987, in _convert_to_request_dict
    api_params = self._emit_api_params(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 1026, in _emit_api_params
    self.meta.events.emit(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 412, in emit
    return self._emitter.emit(aliased_event_name, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 256, in emit
    return self._emit(event_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 239, in _emit
    response = handler(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/handlers.py", line 285, in validate_bucket_name
    raise ParamValidationError(report=error_msg)
botocore.exceptions.ParamValidationError: Parameter validation failed:
Invalid bucket name "/home/arjun.v@ah.zymrinc.com/s3_download": Bucket name must match the regex "^[a-zA-Z0-9.\-_]{1,255}$" or be an ARN matching the regex "^arn:(aws).*:(s3|s3-object-lambda):[a-z\-0-9]*:[0-9]{12}:accesspoint[/:][a-zA-Z0-9\-.]{1,63}$|^arn:(aws).*:s3-outposts:[a-z\-0-9]+:[0-9]{12}:outpost[/:][a-zA-Z0-9\-]{1,63}[/:]accesspoint[/:][a-zA-Z0-9\-]{1,63}$"
16/01/2023  12:13:22 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:13:23 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 214, in get
    uploaded = download_from_aws(request.data['file_path'], 'dj-bkt', f'celery_redis/user-data/{val_data}')
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 47, in download_from_aws
    s3.download_file(local_file, bucket, s3_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/inject.py", line 190, in download_file
    return transfer.download_file(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/transfer.py", line 326, in download_file
    future.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 103, in result
    return self._coordinator.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 266, in result
    raise self._exception
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 269, in _main
    self._submit(transfer_future=transfer_future, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 354, in _submit
    response = client.head_object(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 919, in _make_api_call
    request_dict = self._convert_to_request_dict(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 987, in _convert_to_request_dict
    api_params = self._emit_api_params(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 1026, in _emit_api_params
    self.meta.events.emit(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 412, in emit
    return self._emitter.emit(aliased_event_name, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 256, in emit
    return self._emit(event_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 239, in _emit
    response = handler(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/handlers.py", line 285, in validate_bucket_name
    raise ParamValidationError(report=error_msg)
botocore.exceptions.ParamValidationError: Parameter validation failed:
Invalid bucket name "/home/arjun.v@ah.zymrinc.com/s3_download": Bucket name must match the regex "^[a-zA-Z0-9.\-_]{1,255}$" or be an ARN matching the regex "^arn:(aws).*:(s3|s3-object-lambda):[a-z\-0-9]*:[0-9]{12}:accesspoint[/:][a-zA-Z0-9\-.]{1,63}$|^arn:(aws).*:s3-outposts:[a-z\-0-9]+:[0-9]{12}:outpost[/:][a-zA-Z0-9\-]{1,63}[/:]accesspoint[/:][a-zA-Z0-9\-]{1,63}$"
16/01/2023  12:18:07 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  12:20:56 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  12:21:08 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
16/01/2023  12:21:08 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
16/01/2023  12:21:08 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
16/01/2023  12:21:08 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
16/01/2023  12:21:08 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
16/01/2023  12:21:08 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
16/01/2023  12:21:08 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
16/01/2023  12:21:08 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
16/01/2023  12:21:08 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
16/01/2023  12:21:08 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
16/01/2023  12:21:08 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
16/01/2023  12:21:08 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
16/01/2023  12:21:08 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
16/01/2023  12:21:08 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f15445e0d30>
16/01/2023  12:21:08 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
16/01/2023  12:21:08 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
16/01/2023  12:21:08 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
16/01/2023  12:21:08 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f154465b0d0>
16/01/2023  12:21:08 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f1540c9ddc0>
16/01/2023  12:21:08 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f1544656e50>
16/01/2023  12:21:08 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:21:08 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
16/01/2023  12:21:08 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:21:08 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:21:08 PM: DEBUG: Acquiring 0
16/01/2023  12:21:08 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f153ba4f2b0>}) about to wait for the following futures []
16/01/2023  12:21:08 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f153ba4f2b0>}) done waiting for dependent futures
16/01/2023  12:21:08 PM: DEBUG: Executing task DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f153ba4f2b0>}) with kwargs {'client': <botocore.client.S3 object at 0x7f153bc86310>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f153ba4c310>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f153ba4c340>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f153ba4c5e0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f153ba4f2b0>, 'io_executor': <s3transfer.futures.BoundedExecutor object at 0x7f153ba4cc40>}
16/01/2023  12:21:08 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f154457d430>
16/01/2023  12:21:08 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f153ba4c250>>
16/01/2023  12:21:08 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': '/home/arjun.v@ah.zymrinc.com/s3_download', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:21:08 PM: DEBUG: Endpoint provider result: https://s3.amazonaws.com/%2Fhome%2Farjun.v%40ah.zymrinc.com%2Fs3_download
16/01/2023  12:21:08 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:21:08 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:21:08 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f154457b4c0>
16/01/2023  12:21:08 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f154457b430>
16/01/2023  12:21:08 PM: DEBUG: Exception raised.
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 269, in _main
    self._submit(transfer_future=transfer_future, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 354, in _submit
    response = client.head_object(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 919, in _make_api_call
    request_dict = self._convert_to_request_dict(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 987, in _convert_to_request_dict
    api_params = self._emit_api_params(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 1026, in _emit_api_params
    self.meta.events.emit(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 412, in emit
    return self._emitter.emit(aliased_event_name, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 256, in emit
    return self._emit(event_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 239, in _emit
    response = handler(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/handlers.py", line 285, in validate_bucket_name
    raise ParamValidationError(report=error_msg)
botocore.exceptions.ParamValidationError: Parameter validation failed:
Invalid bucket name "/home/arjun.v@ah.zymrinc.com/s3_download": Bucket name must match the regex "^[a-zA-Z0-9.\-_]{1,255}$" or be an ARN matching the regex "^arn:(aws).*:(s3|s3-object-lambda):[a-z\-0-9]*:[0-9]{12}:accesspoint[/:][a-zA-Z0-9\-.]{1,63}$|^arn:(aws).*:s3-outposts:[a-z\-0-9]+:[0-9]{12}:outpost[/:][a-zA-Z0-9\-]{1,63}[/:]accesspoint[/:][a-zA-Z0-9\-]{1,63}$"
16/01/2023  12:21:08 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:21:08 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 214, in get
    uploaded = download_from_aws(local_file=request.data['file_path'],bucket= 'dj-bkt',s3_file= f'celery_redis/user-data/{val_data}')
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 47, in download_from_aws
    s3.download_file(local_file, bucket, s3_file)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/inject.py", line 190, in download_file
    return transfer.download_file(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/transfer.py", line 326, in download_file
    future.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 103, in result
    return self._coordinator.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 266, in result
    raise self._exception
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 269, in _main
    self._submit(transfer_future=transfer_future, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 354, in _submit
    response = client.head_object(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 530, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 919, in _make_api_call
    request_dict = self._convert_to_request_dict(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 987, in _convert_to_request_dict
    api_params = self._emit_api_params(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/client.py", line 1026, in _emit_api_params
    self.meta.events.emit(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 412, in emit
    return self._emitter.emit(aliased_event_name, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 256, in emit
    return self._emit(event_name, kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/hooks.py", line 239, in _emit
    response = handler(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/handlers.py", line 285, in validate_bucket_name
    raise ParamValidationError(report=error_msg)
botocore.exceptions.ParamValidationError: Parameter validation failed:
Invalid bucket name "/home/arjun.v@ah.zymrinc.com/s3_download": Bucket name must match the regex "^[a-zA-Z0-9.\-_]{1,255}$" or be an ARN matching the regex "^arn:(aws).*:(s3|s3-object-lambda):[a-z\-0-9]*:[0-9]{12}:accesspoint[/:][a-zA-Z0-9\-.]{1,63}$|^arn:(aws).*:s3-outposts:[a-z\-0-9]+:[0-9]{12}:outpost[/:][a-zA-Z0-9\-]{1,63}[/:]accesspoint[/:][a-zA-Z0-9\-]{1,63}$"
16/01/2023  12:23:48 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  12:23:59 PM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py changed, reloading.
16/01/2023  12:24:26 PM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
16/01/2023  12:24:26 PM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
16/01/2023  12:24:26 PM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
16/01/2023  12:24:26 PM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
16/01/2023  12:24:26 PM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
16/01/2023  12:24:26 PM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
16/01/2023  12:24:26 PM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
16/01/2023  12:24:26 PM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
16/01/2023  12:24:26 PM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
16/01/2023  12:24:26 PM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
16/01/2023  12:24:26 PM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
16/01/2023  12:24:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
16/01/2023  12:24:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
16/01/2023  12:24:26 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  12:24:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
16/01/2023  12:24:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
16/01/2023  12:24:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
16/01/2023  12:24:26 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  12:24:26 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  12:24:26 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  12:24:26 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:24:26 PM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
16/01/2023  12:24:26 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:24:26 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:24:26 PM: DEBUG: Acquiring 0
16/01/2023  12:24:26 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197e728dc0>}) about to wait for the following futures []
16/01/2023  12:24:26 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197e728dc0>}) done waiting for dependent futures
16/01/2023  12:24:26 PM: DEBUG: Executing task DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197e728dc0>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197e95bbb0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197e718e20>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197e718e50>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197e728130>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197e728dc0>, 'io_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197e728790>}
16/01/2023  12:24:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:24:26 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:26 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:24:26 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:24:26 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:24:26 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:24:26 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:24:26 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:24:26 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:24:26 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:26 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:24:26 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:24:26 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:24:26 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:24:26 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197e95bb50>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:24:26 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:24:26 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e95bb80>>
16/01/2023  12:24:26 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f8582b0>>
16/01/2023  12:24:26 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:24:26 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:24:26 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:24:26 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065426Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:24:26 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065426Z
20230116/us-east-1/s3/aws4_request
c31362ad374003fc2582c62dc17fed6f7ef6e2dacbbfb6ab569e7c0ae53ed9e8
16/01/2023  12:24:26 PM: DEBUG: Signature:
f28507998d256b742afc8cb5f734d718a35e241cafc12e496291d0dce962d8b9
16/01/2023  12:24:26 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:24:26 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:24:26 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065426Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=f28507998d256b742afc8cb5f734d718a35e241cafc12e496291d0dce962d8b9', 'amz-sdk-invocation-id': b'e2705d38-d723-4175-9c2f-0dbe760c9a16', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:24:26 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:24:26 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  12:24:27 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 400 0
16/01/2023  12:24:27 PM: DEBUG: Response headers: {'x-amz-request-id': 'CPQR2920R2BWXS79', 'x-amz-id-2': 'wQknN/rw2L02l5FvoFor7rVu1sB4GNU+pF28c2fge3fH3kJHF2E8wo6GBl12yl0Lqpe03Q92180=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:54:27 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:24:27 PM: DEBUG: Response body:
b''
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e718d00>
16/01/2023  12:24:27 PM: DEBUG: No retry needed.
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:24:27 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:24:27 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:24:27 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:24:27 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:24:27 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:24:27 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:24:27 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/', 'url': 'https://dj-bkt.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197e95bb50>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt'}}}}
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e95bb80>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f8582b0>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:24:27 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:24:27 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:24:27 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065427Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:24:27 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065427Z
20230116/us-east-1/s3/aws4_request
37ff14d7b37eb23dac5a9fe9f783eee1cd2f433c2c95527180ed017de2c4a5ca
16/01/2023  12:24:27 PM: DEBUG: Signature:
a81b1c9fca99696411d76f06da42b27ce425f4b365cdabec380db46d6b0bf98f
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:24:27 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065427Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a81b1c9fca99696411d76f06da42b27ce425f4b365cdabec380db46d6b0bf98f', 'amz-sdk-invocation-id': b'89835db2-541f-4444-980f-0a81334085cf', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:24:27 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:24:27 PM: DEBUG: Resetting dropped connection: dj-bkt.s3.amazonaws.com
16/01/2023  12:24:27 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
16/01/2023  12:24:27 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'ap-south-1', 'x-amz-request-id': 'CPQTY4934VHZH7NG', 'x-amz-id-2': 'ZqtQYvJ4mWghZuT0ZbL1KEDtOqfruQuZm/wzmvkG9fg87dV+C25uNym+sBio0C2dpsMOAaLsGuA=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:54:26 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:24:27 PM: DEBUG: Response body:
b''
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e718d00>
16/01/2023  12:24:27 PM: DEBUG: No retry needed.
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:24:27 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:24:27 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/ to https://dj-bkt.s3.ap-south-1.amazonaws.com/
16/01/2023  12:24:27 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:24:27 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:24:27 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e95bb80>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f8582b0>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:24:27 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:24:27 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:24:27 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065427Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:24:27 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065427Z
20230116/ap-south-1/s3/aws4_request
e3e58db7b5169d01f413f32dd3f39ed6bc10d0c9c0bd6611ac21a2fbdc7c8980
16/01/2023  12:24:27 PM: DEBUG: Signature:
1e203608547f5328362fb3c4b052ce9318ec0013566ec1349bb8a2ed5d2020fe
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:24:27 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065427Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1e203608547f5328362fb3c4b052ce9318ec0013566ec1349bb8a2ed5d2020fe', 'amz-sdk-invocation-id': b'89835db2-541f-4444-980f-0a81334085cf', 'amz-sdk-request': b'ttl=20230116T065526Z; attempt=2; max=5'}>
16/01/2023  12:24:27 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:24:27 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  12:24:27 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD / HTTP/1.1" 200 0
16/01/2023  12:24:27 PM: DEBUG: Response headers: {'x-amz-id-2': 'Ll3dp74+S+A2I42OUhKKRKthy6G/eDDtSoq73H6+dpQY2d++69wD6OVco/ax9aoDK2hMLxNqJek=', 'x-amz-request-id': 'CPQZ8HS43Z08SN8F', 'Date': 'Mon, 16 Jan 2023 06:54:28 GMT', 'x-amz-bucket-region': 'ap-south-1', 'x-amz-access-point-alias': 'false', 'Content-Type': 'application/xml', 'Server': 'AmazonS3'}
16/01/2023  12:24:27 PM: DEBUG: Response body:
b''
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e718d00>
16/01/2023  12:24:27 PM: DEBUG: No retry needed.
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:24:27 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:24:27 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:24:27 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  12:24:27 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:24:27 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:24:27 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e95bb80>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f8582b0>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:24:27 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:24:27 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:24:27 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065427Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:24:27 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065427Z
20230116/ap-south-1/s3/aws4_request
3ff60a102193433bbcab9d77ef6a39e415de328ea98e50101e97c0c88d4e4890
16/01/2023  12:24:27 PM: DEBUG: Signature:
b3eb2de15bacc1caef2052842462e808a4faf27e71ab42ba1ffc24720046a947
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:24:27 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065427Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b3eb2de15bacc1caef2052842462e808a4faf27e71ab42ba1ffc24720046a947', 'amz-sdk-invocation-id': b'e2705d38-d723-4175-9c2f-0dbe760c9a16', 'amz-sdk-request': b'ttl=20230116T065527Z; attempt=2; max=5'}>
16/01/2023  12:24:27 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:24:27 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  12:24:27 PM: DEBUG: Response headers: {'x-amz-id-2': 'tP/1RG3Stv5fYKL1W62EAY3kkChEiH/R1PctR0zAq15Uk9feB5BAbCmAJzqP9EEs2uHD100q+AA=', 'x-amz-request-id': 'CPQZGD5AEE93NS34', 'Date': 'Mon, 16 Jan 2023 06:54:28 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:24:27 PM: DEBUG: Response body:
b''
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e718d00>
16/01/2023  12:24:27 PM: DEBUG: No retry needed.
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:24:27 PM: DEBUG: Submitting task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197e728130> for transfer request: 0.
16/01/2023  12:24:27 PM: DEBUG: Acquiring 0
16/01/2023  12:24:27 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  12:24:27 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:24:27 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  12:24:27 PM: DEBUG: Executing task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197e95bbb0>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f8ddf10>, 'extra_args': {}, 'callbacks': [], 'max_attempts': 5, 'download_output_manager': <s3transfer.download.DownloadFilenameOutputManager object at 0x7f1985778640>, 'io_chunksize': 262144, 'bandwidth_limiter': None}
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:24:27 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:24:27 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:24:27 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:24:27 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:24:27 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:24:27 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:24:27 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:24:27 PM: DEBUG: Making request for OperationModel(name=GetObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197e95bb50>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.GetObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e95bb80>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f8582b0>>
16/01/2023  12:24:27 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:24:27 PM: DEBUG: Event before-sign.s3.GetObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:24:27 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:24:27 PM: DEBUG: CanonicalRequest:
GET
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065427Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:24:27 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065427Z
20230116/ap-south-1/s3/aws4_request
ddd687f8308ced91389adac8bf670de86f691817a23f2007440b60547d186691
16/01/2023  12:24:27 PM: DEBUG: Signature:
dc46047c20a4b86e3ad4ae511a8ffea213300e0efb2e642c128285a5b35c69e3
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:24:27 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:24:27 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=True, method=GET, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065427Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=dc46047c20a4b86e3ad4ae511a8ffea213300e0efb2e642c128285a5b35c69e3', 'amz-sdk-invocation-id': b'bb5154c7-0ece-4499-93ef-8694d75e83fc', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:24:27 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:24:27 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "GET /celery_redis/user-data/test.txt HTTP/1.1" 200 367
16/01/2023  12:24:27 PM: DEBUG: Response headers: {'x-amz-id-2': 'jIOEcev6FqfV+yX9XZUU5/dUXbAjNBo67KdeTRumzYelDDqY4zG6RjaW+JlgHyOje2Wkjne6XFA=', 'x-amz-request-id': 'CPQS11RT1P41PQSB', 'Date': 'Mon, 16 Jan 2023 06:54:28 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:24:27 PM: DEBUG: Response body:
<botocore.response.StreamingBody object at 0x7f197f8dd6a0>
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e718d00>
16/01/2023  12:24:27 PM: DEBUG: No retry needed.
16/01/2023  12:24:27 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e718d60>>
16/01/2023  12:24:27 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) about to wait for the following futures []
16/01/2023  12:24:27 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) done waiting for dependent futures
16/01/2023  12:24:27 PM: DEBUG: Executing task IOWriteTask(transfer_id=0, {'offset': 0}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f8ddf10>, 'offset': 0}
16/01/2023  12:24:27 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download'}) about to wait for the following futures []
16/01/2023  12:24:27 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download'}) done waiting for dependent futures
16/01/2023  12:24:27 PM: DEBUG: Executing task IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download'}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f8ddf10>, 'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download', 'osutil': <s3transfer.utils.OSUtils object at 0x7f197e718e50>}
16/01/2023  12:24:27 PM: DEBUG: Exception raised.
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 139, in __call__
    return self._execute_main(kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 162, in _execute_main
    return_value = self._main(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 673, in _main
    osutil.rename_file(fileobj.name, final_filename)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/utils.py", line 284, in rename_file
    rename_file(current_filename, new_filename)
IsADirectoryError: [Errno 21] Is a directory: '/home/arjun.v@ah.zymrinc.com/s3_download.7A3cE9Da' -> '/home/arjun.v@ah.zymrinc.com/s3_download'
16/01/2023  12:24:27 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:24:27 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 214, in get
    uploaded = download_from_aws(local_file=request.data['file_path'],bucket= 'dj-bkt',s3_file= f'celery_redis/user-data/{val_data}')
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 47, in download_from_aws
    s3.download_file(Filename=local_file,Bucket=bucket,Key=s3_file,)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/inject.py", line 190, in download_file
    return transfer.download_file(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/transfer.py", line 326, in download_file
    future.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 103, in result
    return self._coordinator.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 266, in result
    raise self._exception
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 139, in __call__
    return self._execute_main(kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 162, in _execute_main
    return_value = self._main(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 673, in _main
    osutil.rename_file(fileobj.name, final_filename)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/utils.py", line 284, in rename_file
    rename_file(current_filename, new_filename)
IsADirectoryError: [Errno 21] Is a directory: '/home/arjun.v@ah.zymrinc.com/s3_download.7A3cE9Da' -> '/home/arjun.v@ah.zymrinc.com/s3_download'
16/01/2023  12:26:48 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  12:26:48 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  12:26:48 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  12:26:48 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  12:26:48 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:26:48 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:26:48 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:26:48 PM: DEBUG: Acquiring 0
16/01/2023  12:26:48 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197f89c4f0>}) about to wait for the following futures []
16/01/2023  12:26:48 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197f89c4f0>}) done waiting for dependent futures
16/01/2023  12:26:48 PM: DEBUG: Executing task DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197f89c4f0>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197f98f9d0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197de4d670>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197de4d0d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197de4df70>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197f89c4f0>, 'io_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197f82b4c0>}
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:26:48 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:26:48 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:26:48 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:26:48 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d6357c0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d635d30>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197dee7e50>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:26:48 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:26:48 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:26:48 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065648Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:26:48 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065648Z
20230116/us-east-1/s3/aws4_request
06394031d19cc524b33bf01eeedf94ee65d0b4fc9f2f3c839375afc30721c579
16/01/2023  12:26:48 PM: DEBUG: Signature:
0753a2134cea9e4361cc60032e2635d7e3e34a84264107303e40fae924b2a9cd
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:26:48 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065648Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0753a2134cea9e4361cc60032e2635d7e3e34a84264107303e40fae924b2a9cd', 'amz-sdk-invocation-id': b'42faf294-0e57-4da2-9060-7dd5c8043b9c', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:26:48 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:26:48 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  12:26:48 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 400 0
16/01/2023  12:26:48 PM: DEBUG: Response headers: {'x-amz-request-id': 'CMWT5DXKA3SP4J2S', 'x-amz-id-2': 'AnSdd7oVwRPiLL+bE4z46OpFAUyy7oCFo/NpvcxHd2ELuGaCDI/QTGacYGUES8TMstPkKweRYLc=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:56:48 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:26:48 PM: DEBUG: Response body:
b''
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197de4d3a0>
16/01/2023  12:26:48 PM: DEBUG: No retry needed.
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:26:48 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:26:48 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:26:48 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:26:48 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/', 'url': 'https://dj-bkt.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d6357c0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt'}}}}
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d635d30>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197dee7e50>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:26:48 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:26:48 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:26:48 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065648Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:26:48 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065648Z
20230116/us-east-1/s3/aws4_request
5f70987b028f8a7618e7987bea47c3119912a91ba5b1d4a4bd99a0689fd9c6d3
16/01/2023  12:26:48 PM: DEBUG: Signature:
38e8c0b2998b21473382e453f9466aee566114d409ec9c2ae39a1c523884179f
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:26:48 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065648Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=38e8c0b2998b21473382e453f9466aee566114d409ec9c2ae39a1c523884179f', 'amz-sdk-invocation-id': b'899a26db-e285-45cd-9eb4-1078fd084a49', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:26:48 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:26:48 PM: DEBUG: Resetting dropped connection: dj-bkt.s3.amazonaws.com
16/01/2023  12:26:48 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
16/01/2023  12:26:48 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'ap-south-1', 'x-amz-request-id': 'CMWZH2N99T0A0VB2', 'x-amz-id-2': 'xc1+nWGhbcAiVIM+Z0rVoEgXT0kfWnVXUi1KVA69pxM29bsy3Kdkut7OBrtVD6aAlyPeJZQ+TJQ=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:56:47 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:26:48 PM: DEBUG: Response body:
b''
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197de4d3a0>
16/01/2023  12:26:48 PM: DEBUG: No retry needed.
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:26:48 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:26:48 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/ to https://dj-bkt.s3.ap-south-1.amazonaws.com/
16/01/2023  12:26:48 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:26:48 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:26:48 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d635d30>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197dee7e50>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:26:48 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:26:48 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:26:48 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065648Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:26:48 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065648Z
20230116/ap-south-1/s3/aws4_request
bdbb3002d928f395c7dddc64bd68d88450207d24e26f2b6c2f4b5b9136f4f82a
16/01/2023  12:26:48 PM: DEBUG: Signature:
1375a2a4fadfe362a805c90d87fb3b2951db51b1f90c9bb8227d7db1c44f4e71
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:26:48 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065648Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1375a2a4fadfe362a805c90d87fb3b2951db51b1f90c9bb8227d7db1c44f4e71', 'amz-sdk-invocation-id': b'899a26db-e285-45cd-9eb4-1078fd084a49', 'amz-sdk-request': b'ttl=20230116T065747Z; attempt=2; max=5'}>
16/01/2023  12:26:48 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:26:48 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  12:26:48 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD / HTTP/1.1" 200 0
16/01/2023  12:26:48 PM: DEBUG: Response headers: {'x-amz-id-2': 'IPoMHDcF1HbAElDjE3WJNkRaOQg2J08Ie9cmv2bSXx3YWrS4EPJw/+kOt6r4FRnXb/CQtNon/Iw=', 'x-amz-request-id': 'CMWWHER5EF9V3JH2', 'Date': 'Mon, 16 Jan 2023 06:56:49 GMT', 'x-amz-bucket-region': 'ap-south-1', 'x-amz-access-point-alias': 'false', 'Content-Type': 'application/xml', 'Server': 'AmazonS3'}
16/01/2023  12:26:48 PM: DEBUG: Response body:
b''
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197de4d3a0>
16/01/2023  12:26:48 PM: DEBUG: No retry needed.
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:26:48 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:26:48 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:26:48 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  12:26:48 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:26:48 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:26:48 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d635d30>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197dee7e50>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:26:48 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:26:48 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:26:48 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065648Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:26:48 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065648Z
20230116/ap-south-1/s3/aws4_request
5fcedc2fc0205a4a989ec6cd14733918e62536febe677127e3c69c74a35cd549
16/01/2023  12:26:48 PM: DEBUG: Signature:
2eb7b1ba9ccd4184f68a7e84a5261cb2710d8ceec8e798c7939ab86832e49005
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:26:48 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065648Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=2eb7b1ba9ccd4184f68a7e84a5261cb2710d8ceec8e798c7939ab86832e49005', 'amz-sdk-invocation-id': b'42faf294-0e57-4da2-9060-7dd5c8043b9c', 'amz-sdk-request': b'ttl=20230116T065748Z; attempt=2; max=5'}>
16/01/2023  12:26:48 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:26:48 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  12:26:48 PM: DEBUG: Response headers: {'x-amz-id-2': 'jk7c4FmsGO7CO/dFW3MkrMVy3ocBYVTD1K3tNDWMlqpdzWzOR2ek3UQkyWf/ygzsgckicSPnwW8=', 'x-amz-request-id': 'CMWG2NE1JYBS8VKZ', 'Date': 'Mon, 16 Jan 2023 06:56:49 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:26:48 PM: DEBUG: Response body:
b''
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197de4d3a0>
16/01/2023  12:26:48 PM: DEBUG: No retry needed.
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:26:48 PM: DEBUG: Submitting task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197de4df70> for transfer request: 0.
16/01/2023  12:26:48 PM: DEBUG: Acquiring 0
16/01/2023  12:26:48 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  12:26:48 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:26:48 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  12:26:48 PM: DEBUG: Executing task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197f98f9d0>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f8411f0>, 'extra_args': {}, 'callbacks': [], 'max_attempts': 5, 'download_output_manager': <s3transfer.download.DownloadFilenameOutputManager object at 0x7f197f841850>, 'io_chunksize': 262144, 'bandwidth_limiter': None}
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:26:48 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:26:48 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:26:48 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:26:48 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:26:48 PM: DEBUG: Making request for OperationModel(name=GetObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d6357c0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.GetObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d635d30>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197dee7e50>>
16/01/2023  12:26:48 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:26:48 PM: DEBUG: Event before-sign.s3.GetObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:26:48 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:26:48 PM: DEBUG: CanonicalRequest:
GET
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065648Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:26:48 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065648Z
20230116/ap-south-1/s3/aws4_request
02cdc265e323da64805197764de26ee315ba7db18c4338da4c740fd970ee38ed
16/01/2023  12:26:48 PM: DEBUG: Signature:
e1e42b22ce1945ef9e50ef2f7c97f9b5bd74ff9ee4554724ad3b69dfcc46a015
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:26:48 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:26:48 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=True, method=GET, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065648Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=e1e42b22ce1945ef9e50ef2f7c97f9b5bd74ff9ee4554724ad3b69dfcc46a015', 'amz-sdk-invocation-id': b'bc0964f2-58d2-4e31-a4da-d244e2b3dfc9', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:26:48 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:26:48 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "GET /celery_redis/user-data/test.txt HTTP/1.1" 200 367
16/01/2023  12:26:48 PM: DEBUG: Response headers: {'x-amz-id-2': 'GvOwgSg5UQC6O2mv0Y+HGtDznlnG8cs72jshyNxZy2Q/kdpuNfa675TL00bxYsWKdOugntKSi+g=', 'x-amz-request-id': 'CMWN8R3K502Y72A8', 'Date': 'Mon, 16 Jan 2023 06:56:49 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:26:48 PM: DEBUG: Response body:
<botocore.response.StreamingBody object at 0x7f197f88efd0>
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197de4d3a0>
16/01/2023  12:26:48 PM: DEBUG: No retry needed.
16/01/2023  12:26:48 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197de4d400>>
16/01/2023  12:26:48 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) about to wait for the following futures []
16/01/2023  12:26:48 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) done waiting for dependent futures
16/01/2023  12:26:48 PM: DEBUG: Executing task IOWriteTask(transfer_id=0, {'offset': 0}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f8411f0>, 'offset': 0}
16/01/2023  12:26:48 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/abc'}) about to wait for the following futures []
16/01/2023  12:26:48 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/abc'}) done waiting for dependent futures
16/01/2023  12:26:48 PM: DEBUG: Executing task IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/abc'}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f8411f0>, 'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/abc', 'osutil': <s3transfer.utils.OSUtils object at 0x7f197de4d0d0>}
16/01/2023  12:26:48 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:27:16 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  12:27:16 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  12:27:16 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  12:27:16 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  12:27:16 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:27:16 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:27:16 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:27:16 PM: DEBUG: Acquiring 0
16/01/2023  12:27:16 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197deb7070>}) about to wait for the following futures []
16/01/2023  12:27:16 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197deb7070>}) done waiting for dependent futures
16/01/2023  12:27:16 PM: DEBUG: Executing task DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197deb7070>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d627280>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197e728610>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197e728fd0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197e728040>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197deb7070>, 'io_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197f851520>}
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:16 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:27:16 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:16 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:27:16 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:27:16 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:27:16 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:27:16 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d6276a0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197de457c0>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f82b940>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:16 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:16 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:16 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065716Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:16 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065716Z
20230116/us-east-1/s3/aws4_request
78afd86aa37dfb397e18627f8533a50ea5d1db32742609f03597d4fd1d0b0557
16/01/2023  12:27:16 PM: DEBUG: Signature:
2572c9a10cb0282c6e6c46cb58d75837a005bf0d53c9314f8525b41cfc3ddadf
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:16 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065716Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=2572c9a10cb0282c6e6c46cb58d75837a005bf0d53c9314f8525b41cfc3ddadf', 'amz-sdk-invocation-id': b'5e0e800b-e563-4800-8b10-9f717b966b7e', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:27:16 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:16 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  12:27:16 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 400 0
16/01/2023  12:27:16 PM: DEBUG: Response headers: {'x-amz-request-id': 'D76R98RJQ4TF60NG', 'x-amz-id-2': 'zyc1mzfkSMI01OtsGjw/ggA7KKNwqa5n5AOVwyOWjt6gWhAsHE9AQbPhLHwefI+vXlqLFxeRR7M=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:57:16 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:27:16 PM: DEBUG: Response body:
b''
16/01/2023  12:27:16 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e728760>
16/01/2023  12:27:16 PM: DEBUG: No retry needed.
16/01/2023  12:27:16 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:16 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:27:16 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:16 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:27:16 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:27:16 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:27:16 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:27:16 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/', 'url': 'https://dj-bkt.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d6276a0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt'}}}}
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197de457c0>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f82b940>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:16 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:16 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:16 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065716Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:16 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065716Z
20230116/us-east-1/s3/aws4_request
0066af5572258dd333c3c6e790d17e973234f5a12ae5c6ecfad63412b39af2a1
16/01/2023  12:27:16 PM: DEBUG: Signature:
406da7b6624012fc1ee3e3883555fd36e43bc6093c4e3390b950be6da6a96ebd
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:16 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065716Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=406da7b6624012fc1ee3e3883555fd36e43bc6093c4e3390b950be6da6a96ebd', 'amz-sdk-invocation-id': b'b146b249-4fa0-45d2-b58e-4326c3c638ab', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:27:16 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:16 PM: DEBUG: Resetting dropped connection: dj-bkt.s3.amazonaws.com
16/01/2023  12:27:16 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
16/01/2023  12:27:16 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'ap-south-1', 'x-amz-request-id': 'D76V76KWMX3DNE75', 'x-amz-id-2': 'zF/qAJNAsbp86VV2uRYyW1kosDV3e9c1cJ5X9jWwpAM0vHx38zgA5NDmpxL2bY4m+EkX2VdXgLU=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:57:16 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:27:16 PM: DEBUG: Response body:
b''
16/01/2023  12:27:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e728760>
16/01/2023  12:27:16 PM: DEBUG: No retry needed.
16/01/2023  12:27:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:16 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:27:16 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/ to https://dj-bkt.s3.ap-south-1.amazonaws.com/
16/01/2023  12:27:16 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:16 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:16 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197de457c0>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f82b940>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:16 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:16 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:16 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065716Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:16 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065716Z
20230116/ap-south-1/s3/aws4_request
c7bf598ba997ef4cffbc553c9dc97be9ef5440ac025ec47b1b45c5b9ab63ffa0
16/01/2023  12:27:16 PM: DEBUG: Signature:
27e00b25b32a51a0774448881b388a0f861ad15cc26d0c83e0cc5ebd7613f42e
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:16 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065716Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=27e00b25b32a51a0774448881b388a0f861ad15cc26d0c83e0cc5ebd7613f42e', 'amz-sdk-invocation-id': b'b146b249-4fa0-45d2-b58e-4326c3c638ab', 'amz-sdk-request': b'ttl=20230116T065816Z; attempt=2; max=5'}>
16/01/2023  12:27:16 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:16 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  12:27:16 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD / HTTP/1.1" 200 0
16/01/2023  12:27:16 PM: DEBUG: Response headers: {'x-amz-id-2': 'p79CgEakO4gjTc8y8bis31w7j0Y3XW3j/2hlHrRNWLMCtj4IpQSUwQ5SYSOKyV61o292OnhBbwc=', 'x-amz-request-id': 'D76H4139YW4Z46P0', 'Date': 'Mon, 16 Jan 2023 06:57:17 GMT', 'x-amz-bucket-region': 'ap-south-1', 'x-amz-access-point-alias': 'false', 'Content-Type': 'application/xml', 'Server': 'AmazonS3'}
16/01/2023  12:27:16 PM: DEBUG: Response body:
b''
16/01/2023  12:27:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e728760>
16/01/2023  12:27:16 PM: DEBUG: No retry needed.
16/01/2023  12:27:16 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:27:16 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:16 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:16 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:16 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:27:16 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  12:27:16 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:16 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:16 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197de457c0>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f82b940>>
16/01/2023  12:27:16 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:16 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:16 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:16 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065716Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:16 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065716Z
20230116/ap-south-1/s3/aws4_request
87bc014cc1eec640460bb8391c3b5ba4fe21cc603258a5bafc9b0c813feedfeb
16/01/2023  12:27:16 PM: DEBUG: Signature:
46f68026450259d306d39de749d12ae93fe5110497518ccdf3f3c55d69df0d5c
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:16 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:16 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065716Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=46f68026450259d306d39de749d12ae93fe5110497518ccdf3f3c55d69df0d5c', 'amz-sdk-invocation-id': b'5e0e800b-e563-4800-8b10-9f717b966b7e', 'amz-sdk-request': b'ttl=20230116T065816Z; attempt=2; max=5'}>
16/01/2023  12:27:16 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:16 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  12:27:17 PM: DEBUG: Response headers: {'x-amz-id-2': 'HZdXhkcnSi+E8R614gnr+Psj2x8greEq436XZVNSFiYfpakxn9uASygjkeCWBWdXMZZq+RK7Vrc=', 'x-amz-request-id': 'DS1KJ853DDABN1PA', 'Date': 'Mon, 16 Jan 2023 06:57:18 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:27:17 PM: DEBUG: Response body:
b''
16/01/2023  12:27:17 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e728760>
16/01/2023  12:27:17 PM: DEBUG: No retry needed.
16/01/2023  12:27:17 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:17 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:27:17 PM: DEBUG: Submitting task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197e728040> for transfer request: 0.
16/01/2023  12:27:17 PM: DEBUG: Acquiring 0
16/01/2023  12:27:17 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  12:27:17 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:27:17 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  12:27:17 PM: DEBUG: Executing task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d627280>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f9795e0>, 'extra_args': {}, 'callbacks': [], 'max_attempts': 5, 'download_output_manager': <s3transfer.download.DownloadFilenameOutputManager object at 0x7f197f979820>, 'io_chunksize': 262144, 'bandwidth_limiter': None}
16/01/2023  12:27:17 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:17 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:17 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:17 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:27:17 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:17 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:17 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:27:17 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:27:17 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:27:17 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:17 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:27:17 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:27:17 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:27:17 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:27:17 PM: DEBUG: Making request for OperationModel(name=GetObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d6276a0>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:27:17 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:17 PM: DEBUG: Event request-created.s3.GetObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197de457c0>>
16/01/2023  12:27:17 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197f82b940>>
16/01/2023  12:27:17 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:17 PM: DEBUG: Event before-sign.s3.GetObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:17 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:17 PM: DEBUG: CanonicalRequest:
GET
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065717Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:17 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065717Z
20230116/ap-south-1/s3/aws4_request
9aa57dde0284cac77e0fcb6736535da6f9aef1276b0cb36cdac7037c8077ce7e
16/01/2023  12:27:17 PM: DEBUG: Signature:
c62d2b3a451e0d9350c1a9964c1d045c49991dcc1aa089e472a0b916cc56b63b
16/01/2023  12:27:17 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:17 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:17 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=True, method=GET, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065717Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=c62d2b3a451e0d9350c1a9964c1d045c49991dcc1aa089e472a0b916cc56b63b', 'amz-sdk-invocation-id': b'cc5654ba-6e35-4f14-8b28-266c28099e18', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:27:17 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:17 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "GET /celery_redis/user-data/test.txt HTTP/1.1" 200 367
16/01/2023  12:27:17 PM: DEBUG: Response headers: {'x-amz-id-2': '9rixA0ZhkSYNZzICCGlQRWLUBg6eEb/RlRdr7qF5w6+FTPAdvTmUs1S3afEG36DIRzn6cjSM1Ps=', 'x-amz-request-id': 'DS1K157NMEPQ5R65', 'Date': 'Mon, 16 Jan 2023 06:57:18 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:27:17 PM: DEBUG: Response body:
<botocore.response.StreamingBody object at 0x7f197f89c730>
16/01/2023  12:27:17 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e728760>
16/01/2023  12:27:17 PM: DEBUG: No retry needed.
16/01/2023  12:27:17 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e728730>>
16/01/2023  12:27:17 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) about to wait for the following futures []
16/01/2023  12:27:17 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) done waiting for dependent futures
16/01/2023  12:27:17 PM: DEBUG: Executing task IOWriteTask(transfer_id=0, {'offset': 0}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f9795e0>, 'offset': 0}
16/01/2023  12:27:17 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/'}) about to wait for the following futures []
16/01/2023  12:27:17 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/'}) done waiting for dependent futures
16/01/2023  12:27:17 PM: DEBUG: Executing task IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/'}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197f9795e0>, 'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/', 'osutil': <s3transfer.utils.OSUtils object at 0x7f197e728fd0>}
16/01/2023  12:27:17 PM: DEBUG: Exception raised.
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 139, in __call__
    return self._execute_main(kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 162, in _execute_main
    return_value = self._main(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 673, in _main
    osutil.rename_file(fileobj.name, final_filename)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/utils.py", line 284, in rename_file
    rename_file(current_filename, new_filename)
NotADirectoryError: [Errno 20] Not a directory: '/home/arjun.v@ah.zymrinc.com/s3_download/.d6b2C8DF' -> '/home/arjun.v@ah.zymrinc.com/s3_download/'
16/01/2023  12:27:17 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:27:17 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 214, in get
    uploaded = download_from_aws(local_file=request.data['file_path'],bucket= 'dj-bkt',s3_file= f'celery_redis/user-data/{val_data}')
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 47, in download_from_aws
    s3.download_file(Filename=local_file,Bucket=bucket,Key=s3_file,)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/inject.py", line 190, in download_file
    return transfer.download_file(
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/boto3/s3/transfer.py", line 326, in download_file
    future.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 103, in result
    return self._coordinator.result()
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/futures.py", line 266, in result
    raise self._exception
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 139, in __call__
    return self._execute_main(kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/tasks.py", line 162, in _execute_main
    return_value = self._main(**kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/download.py", line 673, in _main
    osutil.rename_file(fileobj.name, final_filename)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/s3transfer/utils.py", line 284, in rename_file
    rename_file(current_filename, new_filename)
NotADirectoryError: [Errno 20] Not a directory: '/home/arjun.v@ah.zymrinc.com/s3_download/.d6b2C8DF' -> '/home/arjun.v@ah.zymrinc.com/s3_download/'
16/01/2023  12:27:24 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  12:27:24 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  12:27:24 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  12:27:24 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  12:27:24 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:27:24 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:27:24 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:27:24 PM: DEBUG: Acquiring 0
16/01/2023  12:27:24 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4cf670>}) about to wait for the following futures []
16/01/2023  12:27:24 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4cf670>}) done waiting for dependent futures
16/01/2023  12:27:24 PM: DEBUG: Executing task DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4cf670>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197e9cb040>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197e977880>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197e9778b0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197e977b50>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4cf670>, 'io_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197d4cf0d0>}
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:24 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:27:24 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:24 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:27:24 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197e9cb250>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e9cb130>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197defa3a0>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:24 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:24 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:24 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065724Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:24 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065724Z
20230116/us-east-1/s3/aws4_request
f79905f6376c8ef008179abfb818b9a4417a844e7498f3db76cc458f6617776b
16/01/2023  12:27:24 PM: DEBUG: Signature:
ed452250ba9758e6372ad4f719a56e82c1e9b103244d24f184cf2a35bd58582a
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:24 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065724Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ed452250ba9758e6372ad4f719a56e82c1e9b103244d24f184cf2a35bd58582a', 'amz-sdk-invocation-id': b'd54c1bd9-dd19-4322-9b75-daf20139c90b', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:27:24 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:24 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  12:27:24 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 400 0
16/01/2023  12:27:24 PM: DEBUG: Response headers: {'x-amz-request-id': 'NSJRSF439HK65KHG', 'x-amz-id-2': 'TrDbm6yg9gUxqLqwQECuxDpHpMaHDOBFZFw1nC+za5Oe0meyGwtSSsYbi3y98XauU0cJlV6IH3U=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:57:24 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:27:24 PM: DEBUG: Response body:
b''
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e977760>
16/01/2023  12:27:24 PM: DEBUG: No retry needed.
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:24 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:27:24 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:24 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:27:24 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/', 'url': 'https://dj-bkt.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197e9cb250>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt'}}}}
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e9cb130>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197defa3a0>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:24 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:24 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:24 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065724Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:24 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065724Z
20230116/us-east-1/s3/aws4_request
ea009e013c83e719f3f1b10d29236acf4568e2919908afa321aef466f0c2a475
16/01/2023  12:27:24 PM: DEBUG: Signature:
26c4f94cfd98916062795b1e8d2c1390f20652cb3501fcc93d62eb63e2588021
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:24 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065724Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=26c4f94cfd98916062795b1e8d2c1390f20652cb3501fcc93d62eb63e2588021', 'amz-sdk-invocation-id': b'3b100ae0-7fd5-4717-a293-4076ba6cddda', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:27:24 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:24 PM: DEBUG: Resetting dropped connection: dj-bkt.s3.amazonaws.com
16/01/2023  12:27:24 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
16/01/2023  12:27:24 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'ap-south-1', 'x-amz-request-id': 'NSJGN0D612H3GPP7', 'x-amz-id-2': 'LXgsXaaTt0zHR0+utg5XaV67DhSK/ZH4W7RqDHO1LxwJFqB1RzLHjikhX65Unyjy+SH8xnrqfTM=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 06:57:24 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:27:24 PM: DEBUG: Response body:
b''
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e977760>
16/01/2023  12:27:24 PM: DEBUG: No retry needed.
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:24 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:27:24 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/ to https://dj-bkt.s3.ap-south-1.amazonaws.com/
16/01/2023  12:27:24 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:24 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:24 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e9cb130>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197defa3a0>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:24 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:24 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:24 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065724Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:24 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065724Z
20230116/ap-south-1/s3/aws4_request
c8df4216fed397f68f85204d95db019c786466c25aa5d43047f86eb23fd0b40c
16/01/2023  12:27:24 PM: DEBUG: Signature:
ca0512b6e75dca505c51c9fb867fedc09672a5138c78855be121cbe81891afda
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:24 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065724Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ca0512b6e75dca505c51c9fb867fedc09672a5138c78855be121cbe81891afda', 'amz-sdk-invocation-id': b'3b100ae0-7fd5-4717-a293-4076ba6cddda', 'amz-sdk-request': b'ttl=20230116T065824Z; attempt=2; max=5'}>
16/01/2023  12:27:24 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:24 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  12:27:24 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD / HTTP/1.1" 200 0
16/01/2023  12:27:24 PM: DEBUG: Response headers: {'x-amz-id-2': 'QSxa+oubQAanXqi+4nnjSdcSAV5rVjOnASbXtZZYAKGIMDF0DAwxDjs9vy+5tOUsDcx06rbJNnU=', 'x-amz-request-id': 'NSJTX2G2SWV9N072', 'Date': 'Mon, 16 Jan 2023 06:57:25 GMT', 'x-amz-bucket-region': 'ap-south-1', 'x-amz-access-point-alias': 'false', 'Content-Type': 'application/xml', 'Server': 'AmazonS3'}
16/01/2023  12:27:24 PM: DEBUG: Response body:
b''
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e977760>
16/01/2023  12:27:24 PM: DEBUG: No retry needed.
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:27:24 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:24 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:27:24 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  12:27:24 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:24 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:24 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e9cb130>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197defa3a0>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:24 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:24 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:24 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065724Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:24 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065724Z
20230116/ap-south-1/s3/aws4_request
c2c81f9a17db791847c7b9031b6601f327cbed614772487bd1fdcd73909599b8
16/01/2023  12:27:24 PM: DEBUG: Signature:
7049ffad5cd9f1a919a5d1a26aca0317d1a2922031c0b83ab08c31e82b03c6a4
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:24 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065724Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=7049ffad5cd9f1a919a5d1a26aca0317d1a2922031c0b83ab08c31e82b03c6a4', 'amz-sdk-invocation-id': b'd54c1bd9-dd19-4322-9b75-daf20139c90b', 'amz-sdk-request': b'ttl=20230116T065824Z; attempt=2; max=5'}>
16/01/2023  12:27:24 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:24 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  12:27:24 PM: DEBUG: Response headers: {'x-amz-id-2': 'UAncqLikaOneCHRmpiIjLMAfv5tELHanLhafxmnlbKcznIcgLIoUblVltorrs2qCu4Aiy1oSyyM=', 'x-amz-request-id': 'NSJT7TDR2ST302AK', 'Date': 'Mon, 16 Jan 2023 06:57:25 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:27:24 PM: DEBUG: Response body:
b''
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e977760>
16/01/2023  12:27:24 PM: DEBUG: No retry needed.
16/01/2023  12:27:24 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:27:24 PM: DEBUG: Submitting task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197e977b50> for transfer request: 0.
16/01/2023  12:27:24 PM: DEBUG: Acquiring 0
16/01/2023  12:27:24 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  12:27:24 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:27:24 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  12:27:24 PM: DEBUG: Executing task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197e9cb040>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197def8700>, 'extra_args': {}, 'callbacks': [], 'max_attempts': 5, 'download_output_manager': <s3transfer.download.DownloadFilenameOutputManager object at 0x7f197e986130>, 'io_chunksize': 262144, 'bandwidth_limiter': None}
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:27:24 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:27:24 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:27:24 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:24 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:27:24 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:27:24 PM: DEBUG: Making request for OperationModel(name=GetObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197e9cb250>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.GetObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197e9cb130>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197defa3a0>>
16/01/2023  12:27:24 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:27:24 PM: DEBUG: Event before-sign.s3.GetObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:27:24 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:27:24 PM: DEBUG: CanonicalRequest:
GET
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T065724Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  12:27:24 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T065724Z
20230116/ap-south-1/s3/aws4_request
01e6f111e14f32c7e1a54a24de296e0989bb51aff81ed9feeef21df712686f5c
16/01/2023  12:27:24 PM: DEBUG: Signature:
6e271bc7bb880e8d69f3050060848dad14fe65a198c68a4787494f2ad36446e6
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:27:24 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:27:24 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=True, method=GET, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T065724Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=6e271bc7bb880e8d69f3050060848dad14fe65a198c68a4787494f2ad36446e6', 'amz-sdk-invocation-id': b'f8edb1aa-5dd4-43ee-8054-77df059a3db6', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  12:27:24 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:27:25 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "GET /celery_redis/user-data/test.txt HTTP/1.1" 200 367
16/01/2023  12:27:25 PM: DEBUG: Response headers: {'x-amz-id-2': 'WGUGBCXTJI8Uir0//m+ED9Bd1fVOKRXWvhzNXABFR6JdZI5Za2EmGzJKgqQjNbjE/DMg5eZsOqs=', 'x-amz-request-id': 'Y9FWSEK9CQ5JRB7K', 'Date': 'Mon, 16 Jan 2023 06:57:26 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  12:27:25 PM: DEBUG: Response body:
<botocore.response.StreamingBody object at 0x7f197d4cf910>
16/01/2023  12:27:25 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197e977760>
16/01/2023  12:27:25 PM: DEBUG: No retry needed.
16/01/2023  12:27:25 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197e9777c0>>
16/01/2023  12:27:25 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) about to wait for the following futures []
16/01/2023  12:27:25 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) done waiting for dependent futures
16/01/2023  12:27:25 PM: DEBUG: Executing task IOWriteTask(transfer_id=0, {'offset': 0}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197def8700>, 'offset': 0}
16/01/2023  12:27:25 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/gh'}) about to wait for the following futures []
16/01/2023  12:27:25 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/gh'}) done waiting for dependent futures
16/01/2023  12:27:25 PM: DEBUG: Executing task IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/gh'}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197def8700>, 'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/gh', 'osutil': <s3transfer.utils.OSUtils object at 0x7f197e9778b0>}
16/01/2023  12:27:25 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:56:42 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 198, in post
    if request.data['file_pth'] != '':
KeyError: 'file_pth'
16/01/2023  12:57:13 PM: ERROR: Internal Server Error: /add-s3/
Traceback (most recent call last):
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 103, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/website/views.py", line 198, in post
    if request.data['file_pth'] != '':
KeyError: 'file_pth'
16/01/2023  12:57:57 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  12:57:57 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  12:57:57 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  12:57:57 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  12:57:57 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:57:57 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:57:57 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:57:57 PM: DEBUG: Acquiring 0
16/01/2023  12:57:57 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d488d30>}) about to wait for the following futures []
16/01/2023  12:57:57 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d488d30>}) done waiting for dependent futures
16/01/2023  12:57:57 PM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d488d30>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d4ec910>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197d4e7100>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197d4e7fa0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197d4881f0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d488d30>}
16/01/2023  12:57:57 PM: DEBUG: Submitting task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/abc', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197d4881f0> for transfer request: 0.
16/01/2023  12:57:57 PM: DEBUG: Acquiring 0
16/01/2023  12:57:57 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/abc', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  12:57:57 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:57:57 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/abc', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  12:57:57 PM: DEBUG: Executing task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/abc', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d4ec910>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x7f197d4d9400>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/abc', 'extra_args': {}}
16/01/2023  12:57:57 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:57:57 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4e77c0>>
16/01/2023  12:57:57 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:57:57 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:57:57 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:57:57 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:57:57 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x7f19872cb670>
16/01/2023  12:57:57 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:57:57 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x7f19872cbf70>
16/01/2023  12:57:57 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:57:57 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:57:57 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4e77c0>>
16/01/2023  12:57:57 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:57:57 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x7f19842c9f70>
16/01/2023  12:57:57 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:57:57 PM: DEBUG: Adding expect 100 continue header to request.
16/01/2023  12:57:57 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:57:57 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:57:57 PM: DEBUG: Making request for OperationModel(name=PutObject) with params: {'url_path': '/celery_redis/user-data/abc', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': 'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x7f197d4d9400>, 'auth_path': '/dj-bkt/celery_redis/user-data/abc', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/abc', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d4ecb20>, 'has_streaming_input': True, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/abc', 'Body': <s3transfer.utils.ReadFileChunk object at 0x7f197d4d9400>}}}}
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d4ec940>>
16/01/2023  12:57:57 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4e98e0>>
16/01/2023  12:57:57 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:57:57 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:57:57 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:57:57 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/abc

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T072757Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  12:57:57 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T072757Z
20230116/us-east-1/s3/aws4_request
49ec6685ec17ff99541793bde6a3748503eaa6393edb992665725fc0ce13e24b
16/01/2023  12:57:57 PM: DEBUG: Signature:
0649471784e4f3c402f6c378260ac1284af6f91647b90542b6d4abe5d5cb27cd
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:57:57 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/abc, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T072757Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=0649471784e4f3c402f6c378260ac1284af6f91647b90542b6d4abe5d5cb27cd', 'amz-sdk-invocation-id': b'02446da3-8801-4a2d-9963-da05cba417f8', 'amz-sdk-request': b'attempt=1', 'Content-Length': '367'}>
16/01/2023  12:57:57 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:57:57 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  12:57:57 PM: DEBUG: Waiting for 100 Continue response.
16/01/2023  12:57:57 PM: DEBUG: Received a non 100 Continue response from the server, NOT sending request body.
16/01/2023  12:57:57 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "PUT /celery_redis/user-data/abc HTTP/1.1" 400 None
16/01/2023  12:57:57 PM: DEBUG: Response headers: {'x-amz-request-id': 'D8TD9M2W44PYEWYS', 'x-amz-id-2': 'yYRxC1BWNqMCTe21lrkmH9PTaD/7EePxtfgNBzQ8r20tVGbzCwBO7lLpJuCVnZ0b3eSvzTbuqwk=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 16 Jan 2023 07:27:56 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:57:57 PM: DEBUG: Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'ap-south-1\'</Message><Region>ap-south-1</Region><RequestId>D8TD9M2W44PYEWYS</RequestId><HostId>yYRxC1BWNqMCTe21lrkmH9PTaD/7EePxtfgNBzQ8r20tVGbzCwBO7lLpJuCVnZ0b3eSvzTbuqwk=</HostId></Error>'
16/01/2023  12:57:57 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d4e7a30>
16/01/2023  12:57:57 PM: DEBUG: No retry needed.
16/01/2023  12:57:57 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4e77c0>>
16/01/2023  12:57:57 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:57:57 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:57:57 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4e77c0>>
16/01/2023  12:57:57 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:57:57 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:57:57 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/abc to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/abc
16/01/2023  12:57:57 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:57:57 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:57:57 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:57:57 PM: DEBUG: Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x7f197d4d9400>
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d4ec940>>
16/01/2023  12:57:57 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4e98e0>>
16/01/2023  12:57:57 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:57:57 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:57:57 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:57:57 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/abc

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T072757Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  12:57:57 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T072757Z
20230116/ap-south-1/s3/aws4_request
a09e3e2823ed5ae2771297713ff8c76b60bd2b87a19b9819512681a4c2bf6941
16/01/2023  12:57:57 PM: DEBUG: Signature:
41f3c3e97fd38cd5a558c27ce151027f48047bc17abdf30bfea6747f955f5d7f
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:57:57 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:57:57 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/abc, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T072757Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=41f3c3e97fd38cd5a558c27ce151027f48047bc17abdf30bfea6747f955f5d7f', 'amz-sdk-invocation-id': b'02446da3-8801-4a2d-9963-da05cba417f8', 'amz-sdk-request': b'ttl=20230116T072856Z; attempt=2; max=5', 'Content-Length': '367'}>
16/01/2023  12:57:57 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:57:57 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  12:57:57 PM: DEBUG: Waiting for 100 Continue response.
16/01/2023  12:57:57 PM: DEBUG: 100 Continue response seen, now sending request body.
16/01/2023  12:57:57 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "PUT /celery_redis/user-data/abc HTTP/1.1" 200 0
16/01/2023  12:57:57 PM: DEBUG: Response headers: {'x-amz-id-2': '+rOUrH6sDEP5zXf1H1F6gH/QCpxY/B/LXcVFR7l0sKy2USayZNm9Pn2II98QD6JBS/FNzCsmYRQ=', 'x-amz-request-id': 'D8T77JZS5KNBYTMX', 'Date': 'Mon, 16 Jan 2023 07:27:58 GMT', 'x-amz-version-id': 'VqvUuxSpcDKHXPO0vMdlFjVavilb1pdi', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'Server': 'AmazonS3', 'Content-Length': '0'}
16/01/2023  12:57:57 PM: DEBUG: Response body:
b''
16/01/2023  12:57:57 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d4e7a30>
16/01/2023  12:57:57 PM: DEBUG: No retry needed.
16/01/2023  12:57:57 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4e77c0>>
16/01/2023  12:57:57 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:57:57 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:59:17 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  12:59:17 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  12:59:17 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  12:59:17 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  12:59:17 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  12:59:17 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  12:59:17 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  12:59:17 PM: DEBUG: Acquiring 0
16/01/2023  12:59:17 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4a5670>}) about to wait for the following futures []
16/01/2023  12:59:17 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4a5670>}) done waiting for dependent futures
16/01/2023  12:59:17 PM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4a5670>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d4996a0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197d4bc880>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197d4bc8b0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197d4bcb50>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4a5670>}
16/01/2023  12:59:17 PM: DEBUG: Submitting task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/gh', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197d4bcb50> for transfer request: 0.
16/01/2023  12:59:17 PM: DEBUG: Acquiring 0
16/01/2023  12:59:17 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/gh', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  12:59:17 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/gh', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  12:59:17 PM: DEBUG: Executing task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/gh', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d4996a0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x7f197d4a5d00>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/gh', 'extra_args': {}}
16/01/2023  12:59:17 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:59:17 PM: DEBUG: Releasing acquire 0/None
16/01/2023  12:59:17 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4bc7c0>>
16/01/2023  12:59:17 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:59:17 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  12:59:17 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:59:17 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:59:17 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x7f19872cb670>
16/01/2023  12:59:17 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  12:59:17 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x7f19872cbf70>
16/01/2023  12:59:17 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  12:59:17 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  12:59:17 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4bc7c0>>
16/01/2023  12:59:17 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  12:59:17 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x7f19842c9f70>
16/01/2023  12:59:17 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  12:59:17 PM: DEBUG: Adding expect 100 continue header to request.
16/01/2023  12:59:17 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  12:59:17 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  12:59:17 PM: DEBUG: Making request for OperationModel(name=PutObject) with params: {'url_path': '/celery_redis/user-data/gh', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': 'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x7f197d4a5d00>, 'auth_path': '/dj-bkt/celery_redis/user-data/gh', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/gh', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d499820>, 'has_streaming_input': True, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/gh', 'Body': <s3transfer.utils.ReadFileChunk object at 0x7f197d4a5d00>}}}}
16/01/2023  12:59:17 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:59:17 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d499790>>
16/01/2023  12:59:17 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4e7760>>
16/01/2023  12:59:17 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:59:17 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:59:17 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:59:17 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/gh

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T072917Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  12:59:17 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T072917Z
20230116/us-east-1/s3/aws4_request
24f44cbd27697435fa1b78aad2a5b312e76c49052162fc1189b0031bd7f7d75f
16/01/2023  12:59:17 PM: DEBUG: Signature:
f27b6225a58f034e7280944007ce59d3b933854c353a9ebfe6e2d05255addf1d
16/01/2023  12:59:17 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:59:17 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:59:17 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/gh, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T072917Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=f27b6225a58f034e7280944007ce59d3b933854c353a9ebfe6e2d05255addf1d', 'amz-sdk-invocation-id': b'8fe48ef4-503e-4848-bece-b70f42c2d470', 'amz-sdk-request': b'attempt=1', 'Content-Length': '367'}>
16/01/2023  12:59:17 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:59:17 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  12:59:18 PM: DEBUG: Waiting for 100 Continue response.
16/01/2023  12:59:18 PM: DEBUG: Received a non 100 Continue response from the server, NOT sending request body.
16/01/2023  12:59:18 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "PUT /celery_redis/user-data/gh HTTP/1.1" 400 None
16/01/2023  12:59:18 PM: DEBUG: Response headers: {'x-amz-request-id': '4NMKYBJDWTETSH3F', 'x-amz-id-2': 'sPe25qfNVgXhZowy+aBmtVQdWEZSA/yPHHj2nSyVzhvwXZqlYv3OJq/fT/QlV2hqTJr8jXA5ww0=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 16 Jan 2023 07:29:17 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  12:59:18 PM: DEBUG: Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'ap-south-1\'</Message><Region>ap-south-1</Region><RequestId>4NMKYBJDWTETSH3F</RequestId><HostId>sPe25qfNVgXhZowy+aBmtVQdWEZSA/yPHHj2nSyVzhvwXZqlYv3OJq/fT/QlV2hqTJr8jXA5ww0=</HostId></Error>'
16/01/2023  12:59:18 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d4bc760>
16/01/2023  12:59:18 PM: DEBUG: No retry needed.
16/01/2023  12:59:18 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4bc7c0>>
16/01/2023  12:59:18 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  12:59:18 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  12:59:18 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4bc7c0>>
16/01/2023  12:59:18 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  12:59:18 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  12:59:18 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/gh to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/gh
16/01/2023  12:59:18 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  12:59:18 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  12:59:18 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  12:59:18 PM: DEBUG: Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x7f197d4a5d00>
16/01/2023  12:59:18 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  12:59:18 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d499790>>
16/01/2023  12:59:18 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4e7760>>
16/01/2023  12:59:18 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  12:59:18 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  12:59:18 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  12:59:18 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/gh

content-md5:BuuGa4HErpAtvHCLdD/2LA==
host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T072918Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  12:59:18 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T072918Z
20230116/ap-south-1/s3/aws4_request
d20203da4fc86b69c59985f6be8bb6026ed9bfc99593781859b848a6d5bdb2ed
16/01/2023  12:59:18 PM: DEBUG: Signature:
de74f4cc201550873a482a314d30bdc2da6afa175750f44d1186b8736216bfe9
16/01/2023  12:59:18 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  12:59:18 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  12:59:18 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/gh, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'BuuGa4HErpAtvHCLdD/2LA==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T072918Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=de74f4cc201550873a482a314d30bdc2da6afa175750f44d1186b8736216bfe9', 'amz-sdk-invocation-id': b'8fe48ef4-503e-4848-bece-b70f42c2d470', 'amz-sdk-request': b'ttl=20230116T073017Z; attempt=2; max=5', 'Content-Length': '367'}>
16/01/2023  12:59:18 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  12:59:18 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  12:59:18 PM: DEBUG: Waiting for 100 Continue response.
16/01/2023  12:59:18 PM: DEBUG: 100 Continue response seen, now sending request body.
16/01/2023  12:59:18 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "PUT /celery_redis/user-data/gh HTTP/1.1" 200 0
16/01/2023  12:59:18 PM: DEBUG: Response headers: {'x-amz-id-2': 'NLIwx/daTNLTjbRY1Kce1gQD6jFOd/gBPVMe5tWBJ3YDHKPhgXMP6MMTQ1ZqaQ7GMxIEKyvXAJ0=', 'x-amz-request-id': '4NMMJH02GKSXZRKA', 'Date': 'Mon, 16 Jan 2023 07:29:19 GMT', 'x-amz-version-id': '0MhSJtwC_JtwhbjNk2ERnNwSBCSBIyjH', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'Server': 'AmazonS3', 'Content-Length': '0'}
16/01/2023  12:59:18 PM: DEBUG: Response body:
b''
16/01/2023  12:59:18 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d4bc760>
16/01/2023  12:59:18 PM: DEBUG: No retry needed.
16/01/2023  12:59:18 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d4bc7c0>>
16/01/2023  12:59:18 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  12:59:18 PM: DEBUG: Releasing acquire 0/None
16/01/2023  01:00:12 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  01:00:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  01:00:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  01:00:12 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  01:00:12 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  01:00:12 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  01:00:12 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  01:00:12 PM: DEBUG: Acquiring 0
16/01/2023  01:00:12 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d480b50>}) about to wait for the following futures []
16/01/2023  01:00:12 PM: DEBUG: DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d480b50>}) done waiting for dependent futures
16/01/2023  01:00:12 PM: DEBUG: Executing task DownloadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d480b50>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d45fb80>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197d47dd60>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197d47dd90>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197d480070>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d480b50>, 'io_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197d4805b0>}
16/01/2023  01:00:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  01:00:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:12 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  01:00:12 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  01:00:12 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  01:00:12 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  01:00:12 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  01:00:12 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  01:00:12 PM: DEBUG: Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  01:00:12 PM: DEBUG: Making request for OperationModel(name=HeadObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d45fd00>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d45fc70>>
16/01/2023  01:00:12 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4bc490>>
16/01/2023  01:00:12 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  01:00:12 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  01:00:12 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  01:00:12 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T073012Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  01:00:12 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T073012Z
20230116/us-east-1/s3/aws4_request
92a375fb80c0c0712a1d9979b57aa182f3cd2b2decbdfbdcc18ec5ccfbc20f69
16/01/2023  01:00:12 PM: DEBUG: Signature:
619d08cbc8f832ac00260db1333abcfca8932601ea23bdf9e9fb04e3bc3e2cbc
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  01:00:12 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T073012Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=619d08cbc8f832ac00260db1333abcfca8932601ea23bdf9e9fb04e3bc3e2cbc', 'amz-sdk-invocation-id': b'c28d2598-f3c0-4e54-bc64-c27ebb0340ef', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  01:00:12 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  01:00:12 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  01:00:12 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 400 0
16/01/2023  01:00:12 PM: DEBUG: Response headers: {'x-amz-request-id': '59GM2YFBZ7MBSW95', 'x-amz-id-2': 'UdUnLdWmc+efB/EZ7XiH1+5sWBJSFP7LYanR5Tg+JbXz9ssKgDZVuJcFoTIkBbsbbFEtx4fR87I=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 07:30:12 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  01:00:12 PM: DEBUG: Response body:
b''
16/01/2023  01:00:12 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d47dc40>
16/01/2023  01:00:12 PM: DEBUG: No retry needed.
16/01/2023  01:00:12 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  01:00:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:12 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  01:00:12 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  01:00:12 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  01:00:12 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:12 PM: DEBUG: Event before-parameter-build.s3.HeadBucket: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  01:00:12 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  01:00:12 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  01:00:12 PM: DEBUG: Event before-call.s3.HeadBucket: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  01:00:12 PM: DEBUG: Making request for OperationModel(name=HeadBucket) with params: {'url_path': '', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/', 'url': 'https://dj-bkt.s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d45fd00>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt'}}}}
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d45fc70>>
16/01/2023  01:00:12 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4bc490>>
16/01/2023  01:00:12 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  01:00:12 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  01:00:12 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  01:00:12 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T073012Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  01:00:12 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T073012Z
20230116/us-east-1/s3/aws4_request
4c4c6bb7ef94658887ed4d86c1ec9c2aefc811c9469e4209bc7beae808eb0e80
16/01/2023  01:00:12 PM: DEBUG: Signature:
5d9fc5323771f2e6491fcaaf36acd0464ad6fac37f82e939747ff1ca4bd555b8
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  01:00:12 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T073012Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=5d9fc5323771f2e6491fcaaf36acd0464ad6fac37f82e939747ff1ca4bd555b8', 'amz-sdk-invocation-id': b'434f44bb-24eb-4002-944f-3e73992ad88d', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  01:00:12 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  01:00:12 PM: DEBUG: Resetting dropped connection: dj-bkt.s3.amazonaws.com
16/01/2023  01:00:12 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "HEAD / HTTP/1.1" 400 0
16/01/2023  01:00:12 PM: DEBUG: Response headers: {'x-amz-bucket-region': 'ap-south-1', 'x-amz-request-id': '59GK8FFBJ42G8DHH', 'x-amz-id-2': 'Gkh8VfQctTNz6zC+zXnCF0REnCgdEd7u6CAuDbROYIXszSoK7UO05fZpN4Zd/dVo2h/N9Rj6MPc=', 'Content-Type': 'application/xml', 'Date': 'Mon, 16 Jan 2023 07:30:12 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  01:00:12 PM: DEBUG: Response body:
b''
16/01/2023  01:00:12 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d47dc40>
16/01/2023  01:00:12 PM: DEBUG: No retry needed.
16/01/2023  01:00:12 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:12 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  01:00:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  01:00:12 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:12 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  01:00:12 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  01:00:12 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/ to https://dj-bkt.s3.ap-south-1.amazonaws.com/
16/01/2023  01:00:12 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  01:00:12 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  01:00:12 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d45fc70>>
16/01/2023  01:00:12 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4bc490>>
16/01/2023  01:00:12 PM: DEBUG: Event choose-signer.s3.HeadBucket: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  01:00:12 PM: DEBUG: Event before-sign.s3.HeadBucket: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  01:00:12 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  01:00:12 PM: DEBUG: CanonicalRequest:
HEAD
/

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T073012Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  01:00:12 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T073012Z
20230116/ap-south-1/s3/aws4_request
9036fe77e0b7de4e87a4613e4245c663e365195529c1a375c79938c99a45b5a5
16/01/2023  01:00:12 PM: DEBUG: Signature:
ca45f78e31b54bc8afdc2d60bc78c5f6a84b33c77c9fd8497a99bd9a5489a31f
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  01:00:12 PM: DEBUG: Event request-created.s3.HeadBucket: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  01:00:12 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T073012Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ca45f78e31b54bc8afdc2d60bc78c5f6a84b33c77c9fd8497a99bd9a5489a31f', 'amz-sdk-invocation-id': b'434f44bb-24eb-4002-944f-3e73992ad88d', 'amz-sdk-request': b'ttl=20230116T073112Z; attempt=2; max=5'}>
16/01/2023  01:00:12 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  01:00:12 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  01:00:13 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD / HTTP/1.1" 200 0
16/01/2023  01:00:13 PM: DEBUG: Response headers: {'x-amz-id-2': 'J2+IXlF71phSeS1AN8x+EB14RBa6U1aRrK78iT5DD2Z7v3drKnIfOvzJkTVxjrkk9bNHoriiA88=', 'x-amz-request-id': 'KSKP1GPYZ0H68V7E', 'Date': 'Mon, 16 Jan 2023 07:30:14 GMT', 'x-amz-bucket-region': 'ap-south-1', 'x-amz-access-point-alias': 'false', 'Content-Type': 'application/xml', 'Server': 'AmazonS3'}
16/01/2023  01:00:13 PM: DEBUG: Response body:
b''
16/01/2023  01:00:13 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d47dc40>
16/01/2023  01:00:13 PM: DEBUG: No retry needed.
16/01/2023  01:00:13 PM: DEBUG: Event needs-retry.s3.HeadBucket: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:13 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  01:00:13 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  01:00:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  01:00:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:13 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  01:00:13 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  01:00:13 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  01:00:13 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  01:00:13 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  01:00:13 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d45fc70>>
16/01/2023  01:00:13 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4bc490>>
16/01/2023  01:00:13 PM: DEBUG: Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  01:00:13 PM: DEBUG: Event before-sign.s3.HeadObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  01:00:13 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  01:00:13 PM: DEBUG: CanonicalRequest:
HEAD
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T073013Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  01:00:13 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T073013Z
20230116/ap-south-1/s3/aws4_request
4e961b808a1f6f10469947712fed2ff8c581e3c1d060eb083ad6df5521ad20ba
16/01/2023  01:00:13 PM: DEBUG: Signature:
65dd60318677d609afff1152e9544f2c4860c84f057d86263c852369b075a745
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.HeadObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  01:00:13 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T073013Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=65dd60318677d609afff1152e9544f2c4860c84f057d86263c852369b075a745', 'amz-sdk-invocation-id': b'c28d2598-f3c0-4e54-bc64-c27ebb0340ef', 'amz-sdk-request': b'ttl=20230116T073112Z; attempt=2; max=5'}>
16/01/2023  01:00:13 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  01:00:13 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "HEAD /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  01:00:13 PM: DEBUG: Response headers: {'x-amz-id-2': 'vWZcBDsVvRmv2HdOSNuomKTVTLh38r0mFb5+8P0e0dj8/rIauZT/fi3mB792SeJ89h0R6eTVGfQ=', 'x-amz-request-id': 'KSKXRYNTBX48KMRE', 'Date': 'Mon, 16 Jan 2023 07:30:14 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  01:00:13 PM: DEBUG: Response body:
b''
16/01/2023  01:00:13 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d47dc40>
16/01/2023  01:00:13 PM: DEBUG: No retry needed.
16/01/2023  01:00:13 PM: DEBUG: Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:13 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  01:00:13 PM: DEBUG: Submitting task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197d480070> for transfer request: 0.
16/01/2023  01:00:13 PM: DEBUG: Acquiring 0
16/01/2023  01:00:13 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  01:00:13 PM: DEBUG: ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  01:00:13 PM: DEBUG: Executing task ImmediatelyWriteIOGetObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d45fb80>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197d482b50>, 'extra_args': {}, 'callbacks': [], 'max_attempts': 5, 'download_output_manager': <s3transfer.download.DownloadFilenameOutputManager object at 0x7f197d4a5ac0>, 'io_chunksize': 262144, 'bandwidth_limiter': None}
16/01/2023  01:00:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  01:00:13 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:13 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  01:00:13 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  01:00:13 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  01:00:13 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  01:00:13 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  01:00:13 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  01:00:13 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  01:00:13 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:13 PM: DEBUG: Event before-parameter-build.s3.GetObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  01:00:13 PM: DEBUG: Releasing acquire 0/None
16/01/2023  01:00:13 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  01:00:13 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  01:00:13 PM: DEBUG: Event before-call.s3.GetObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  01:00:13 PM: DEBUG: Making request for OperationModel(name=GetObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46'}, 'body': b'', 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d45fd00>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt'}}}}
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.GetObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d45fc70>>
16/01/2023  01:00:13 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4bc490>>
16/01/2023  01:00:13 PM: DEBUG: Event choose-signer.s3.GetObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  01:00:13 PM: DEBUG: Event before-sign.s3.GetObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  01:00:13 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  01:00:13 PM: DEBUG: CanonicalRequest:
GET
/celery_redis/user-data/test.txt

host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20230116T073013Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
16/01/2023  01:00:13 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T073013Z
20230116/ap-south-1/s3/aws4_request
4b54b1ff72dd777656dc86badbac09dd018c2460792622fb587171a9018bc24a
16/01/2023  01:00:13 PM: DEBUG: Signature:
acbe3de5125ca2dd3a5e551f348fdad187856128a6747101734f9eafcab49c82
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  01:00:13 PM: DEBUG: Event request-created.s3.GetObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  01:00:13 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=True, method=GET, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'X-Amz-Date': b'20230116T073013Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=acbe3de5125ca2dd3a5e551f348fdad187856128a6747101734f9eafcab49c82', 'amz-sdk-invocation-id': b'ba6ccc3b-a541-4c98-bb2c-46bdf88a85d5', 'amz-sdk-request': b'attempt=1'}>
16/01/2023  01:00:13 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  01:00:13 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "GET /celery_redis/user-data/test.txt HTTP/1.1" 200 367
16/01/2023  01:00:13 PM: DEBUG: Response headers: {'x-amz-id-2': 'WJq4zWygAmXPZnqGpzParK+eK+yum2XDjcENq5QbQGnXslaR0y9L4tCd1vZCTMq+j7DxHSW3RGw=', 'x-amz-request-id': 'KSKQVC5EMAFNSYGC', 'Date': 'Mon, 16 Jan 2023 07:30:14 GMT', 'Last-Modified': 'Mon, 16 Jan 2023 05:57:14 GMT', 'ETag': '"06eb866b81c4ae902dbc708b743ff62c"', 'x-amz-server-side-encryption': 'AES256', 'x-amz-version-id': 'hSvQ9.TIjJXYcEeUW.qvRkLse.iGTmpN', 'Accept-Ranges': 'bytes', 'Content-Type': 'binary/octet-stream', 'Server': 'AmazonS3', 'Content-Length': '367'}
16/01/2023  01:00:13 PM: DEBUG: Response body:
<botocore.response.StreamingBody object at 0x7f197d424d00>
16/01/2023  01:00:13 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d47dc40>
16/01/2023  01:00:13 PM: DEBUG: No retry needed.
16/01/2023  01:00:13 PM: DEBUG: Event needs-retry.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d47dca0>>
16/01/2023  01:00:13 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) about to wait for the following futures []
16/01/2023  01:00:13 PM: DEBUG: IOWriteTask(transfer_id=0, {'offset': 0}) done waiting for dependent futures
16/01/2023  01:00:13 PM: DEBUG: Executing task IOWriteTask(transfer_id=0, {'offset': 0}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197d482b50>, 'offset': 0}
16/01/2023  01:00:13 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/xyz.txt'}) about to wait for the following futures []
16/01/2023  01:00:13 PM: DEBUG: IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/xyz.txt'}) done waiting for dependent futures
16/01/2023  01:00:13 PM: DEBUG: Executing task IORenameFileTask(transfer_id=0, {'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/xyz.txt'}) with kwargs {'fileobj': <s3transfer.utils.DeferredOpenFile object at 0x7f197d482b50>, 'final_filename': '/home/arjun.v@ah.zymrinc.com/s3_download/xyz.txt', 'osutil': <s3transfer.utils.OSUtils object at 0x7f197d47dd90>}
16/01/2023  01:00:13 PM: DEBUG: Releasing acquire 0/None
16/01/2023  01:21:47 PM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f19872b1310>
16/01/2023  01:21:47 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f198732b670>
16/01/2023  01:21:47 PM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f197f84d1f0>
16/01/2023  01:21:47 PM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f198732b430>
16/01/2023  01:21:47 PM: DEBUG: Setting s3 timeout as (60, 60)
16/01/2023  01:21:47 PM: DEBUG: Registering retry handlers for service: s3
16/01/2023  01:21:47 PM: DEBUG: Registering S3 region redirector handler
16/01/2023  01:21:47 PM: DEBUG: Acquiring 0
16/01/2023  01:21:47 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4e7ee0>}) about to wait for the following futures []
16/01/2023  01:21:47 PM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4e7ee0>}) done waiting for dependent futures
16/01/2023  01:21:47 PM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4e7ee0>}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d4661f0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f197d44c130>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f197d44c2e0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f197d44cd90>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f197d4e7ee0>}
16/01/2023  01:21:47 PM: DEBUG: Submitting task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f197d44cd90> for transfer request: 0.
16/01/2023  01:21:47 PM: DEBUG: Acquiring 0
16/01/2023  01:21:47 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
16/01/2023  01:21:47 PM: DEBUG: Releasing acquire 0/None
16/01/2023  01:21:47 PM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
16/01/2023  01:21:47 PM: DEBUG: Executing task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f197d4661f0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x7f197d4ecd60>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}
16/01/2023  01:21:47 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  01:21:47 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d44c340>>
16/01/2023  01:21:47 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  01:21:47 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
16/01/2023  01:21:47 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  01:21:47 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  01:21:47 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x7f19872cb670>
16/01/2023  01:21:47 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x7f19872c6a60>
16/01/2023  01:21:47 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x7f19872cbf70>
16/01/2023  01:21:47 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x7f19872c69d0>
16/01/2023  01:21:47 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f19872ca820>
16/01/2023  01:21:47 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d44c340>>
16/01/2023  01:21:47 PM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x7f19872c6820>
16/01/2023  01:21:47 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x7f19842c9f70>
16/01/2023  01:21:47 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x7f19872c6d30>
16/01/2023  01:21:47 PM: DEBUG: Adding expect 100 continue header to request.
16/01/2023  01:21:47 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x7f19872c64c0>
16/01/2023  01:21:47 PM: DEBUG: Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x7f19872ca0d0>
16/01/2023  01:21:47 PM: DEBUG: Making request for OperationModel(name=PutObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': '72gomIkZTEbFDYrVmUQWgw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x7f197d4ecd60>, 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f197d4661c0>, 'has_streaming_input': True, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt', 'Body': <s3transfer.utils.ReadFileChunk object at 0x7f197d4ecd60>}}}}
16/01/2023  01:21:47 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  01:21:47 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d466190>>
16/01/2023  01:21:47 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4bce50>>
16/01/2023  01:21:47 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  01:21:47 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  01:21:47 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  01:21:47 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:72gomIkZTEbFDYrVmUQWgw==
host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T075147Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  01:21:47 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T075147Z
20230116/us-east-1/s3/aws4_request
b121bd23066e57cd35ee009177b77d07d36d42a7ab7215cc1798dfa0d81424fe
16/01/2023  01:21:47 PM: DEBUG: Signature:
2962c9b24bbb538368fc76d5c1b4468d273516842a830081196029f7b1a315b2
16/01/2023  01:21:47 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  01:21:47 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  01:21:47 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'72gomIkZTEbFDYrVmUQWgw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T075147Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=2962c9b24bbb538368fc76d5c1b4468d273516842a830081196029f7b1a315b2', 'amz-sdk-invocation-id': b'ec53fc14-552b-430d-90d6-224ee45fd89d', 'amz-sdk-request': b'attempt=1', 'Content-Length': '405'}>
16/01/2023  01:21:47 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  01:21:47 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
16/01/2023  01:21:52 PM: DEBUG: Waiting for 100 Continue response.
16/01/2023  01:21:53 PM: DEBUG: Received a non 100 Continue response from the server, NOT sending request body.
16/01/2023  01:21:53 PM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 400 None
16/01/2023  01:21:53 PM: DEBUG: Response headers: {'x-amz-request-id': 'WF6ZDGH1Q667DD34', 'x-amz-id-2': '4tomFoGPuHiWrd09hSjORP/2W0qbEIgqSDcIKIjUPqn/ApJcIfCZKsTQYKDtpmF8+gT4LSE5zz8=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 16 Jan 2023 07:51:52 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
16/01/2023  01:21:53 PM: DEBUG: Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'ap-south-1\'</Message><Region>ap-south-1</Region><RequestId>WF6ZDGH1Q667DD34</RequestId><HostId>4tomFoGPuHiWrd09hSjORP/2W0qbEIgqSDcIKIjUPqn/ApJcIfCZKsTQYKDtpmF8+gT4LSE5zz8=</HostId></Error>'
16/01/2023  01:21:53 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d44c490>
16/01/2023  01:21:53 PM: DEBUG: No retry needed.
16/01/2023  01:21:53 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d44c340>>
16/01/2023  01:21:53 PM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
16/01/2023  01:21:53 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f19872ca9d0>
16/01/2023  01:21:53 PM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d44c340>>
16/01/2023  01:21:53 PM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
16/01/2023  01:21:53 PM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
16/01/2023  01:21:53 PM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
16/01/2023  01:21:53 PM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
16/01/2023  01:21:53 PM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
16/01/2023  01:21:53 PM: DEBUG: Response received to retry, sleeping for 0 seconds
16/01/2023  01:21:53 PM: DEBUG: Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x7f197d4ecd60>
16/01/2023  01:21:53 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f19841c8e50>
16/01/2023  01:21:53 PM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f197d466190>>
16/01/2023  01:21:53 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f197d4bce50>>
16/01/2023  01:21:53 PM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f19872c6700>
16/01/2023  01:21:53 PM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f19872ca940>
16/01/2023  01:21:53 PM: DEBUG: Calculating signature using v4 auth.
16/01/2023  01:21:53 PM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:72gomIkZTEbFDYrVmUQWgw==
host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230116T075153Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
16/01/2023  01:21:53 PM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230116T075153Z
20230116/ap-south-1/s3/aws4_request
d5e80a3f38d8307d19f9ce75732373672f5ccbe7f2f9a03937acbde1878f54f2
16/01/2023  01:21:53 PM: DEBUG: Signature:
543b401d4c065eb956bc7591ef1e5a166b365c358fb89eaf519ffc6b988c8d6c
16/01/2023  01:21:53 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f19841c8ee0>
16/01/2023  01:21:53 PM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f19872ca790>
16/01/2023  01:21:53 PM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'72gomIkZTEbFDYrVmUQWgw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230116T075153Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230116/ap-south-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=543b401d4c065eb956bc7591ef1e5a166b365c358fb89eaf519ffc6b988c8d6c', 'amz-sdk-invocation-id': b'ec53fc14-552b-430d-90d6-224ee45fd89d', 'amz-sdk-request': b'ttl=20230116T075252Z; attempt=2; max=5', 'Content-Length': '405'}>
16/01/2023  01:21:53 PM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
16/01/2023  01:21:53 PM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
16/01/2023  01:21:53 PM: DEBUG: Waiting for 100 Continue response.
16/01/2023  01:21:53 PM: DEBUG: 100 Continue response seen, now sending request body.
16/01/2023  01:21:53 PM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 200 0
16/01/2023  01:21:53 PM: DEBUG: Response headers: {'x-amz-id-2': 'WCsjtY2E0bsVv3sXaNWBffLORyy0vpQdZHcSfQAj3MtURterzScWStOGg7J0TCI/EJQXIZLYe4l6qXhRqEh1ow==', 'x-amz-request-id': 'JCJB5S3FA0Y22DJ1', 'Date': 'Mon, 16 Jan 2023 07:51:54 GMT', 'x-amz-version-id': 'o5Y3hDj0jWLhfDvXHipxXoOz5OmnhoUR', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"ef68289889194c46c50d8ad599441683"', 'Server': 'AmazonS3', 'Content-Length': '0'}
16/01/2023  01:21:53 PM: DEBUG: Response body:
b''
16/01/2023  01:21:53 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f197d44c490>
16/01/2023  01:21:53 PM: DEBUG: No retry needed.
16/01/2023  01:21:53 PM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f197d44c340>>
16/01/2023  01:21:53 PM: DEBUG: S3 request was previously redirected, not redirecting.
16/01/2023  01:21:53 PM: DEBUG: Releasing acquire 0/None
18/01/2023  10:56:42 AM: DEBUG: Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
18/01/2023  10:56:42 AM: DEBUG: Changing event name from before-call.apigateway to before-call.api-gateway
18/01/2023  10:56:42 AM: DEBUG: Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
18/01/2023  10:56:42 AM: DEBUG: Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
18/01/2023  10:56:42 AM: DEBUG: Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
18/01/2023  10:56:42 AM: DEBUG: Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
18/01/2023  10:56:42 AM: DEBUG: Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
18/01/2023  10:56:42 AM: DEBUG: Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
18/01/2023  10:56:42 AM: DEBUG: Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
18/01/2023  10:56:42 AM: DEBUG: Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
18/01/2023  10:56:42 AM: DEBUG: Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
18/01/2023  10:56:42 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/endpoints.json
18/01/2023  10:56:42 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/sdk-default-configuration.json
18/01/2023  10:56:42 AM: DEBUG: Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f57228fdc10>
18/01/2023  10:56:42 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json
18/01/2023  10:56:43 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
18/01/2023  10:56:43 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/partitions.json
18/01/2023  10:56:43 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f572028ef70>
18/01/2023  10:56:43 AM: DEBUG: Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f571ae8cdc0>
18/01/2023  10:56:43 AM: DEBUG: Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f572028ed30>
18/01/2023  10:56:43 AM: DEBUG: Setting s3 timeout as (60, 60)
18/01/2023  10:56:43 AM: DEBUG: Loading JSON file: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/botocore/data/_retry.json
18/01/2023  10:56:43 AM: DEBUG: Registering retry handlers for service: s3
18/01/2023  10:56:43 AM: DEBUG: Registering S3 region redirector handler
18/01/2023  10:56:43 AM: DEBUG: Acquiring 0
18/01/2023  10:56:43 AM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f571a0e5a30>}) about to wait for the following futures []
18/01/2023  10:56:43 AM: DEBUG: UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f571a0e5a30>}) done waiting for dependent futures
18/01/2023  10:56:43 AM: DEBUG: Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f571a0e5a30>}) with kwargs {'client': <botocore.client.S3 object at 0x7f571ae668b0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x7f571a1025b0>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f571a1026a0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f571a151700>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f571a0e5a30>}
18/01/2023  10:56:43 AM: DEBUG: Submitting task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x7f571a151700> for transfer request: 0.
18/01/2023  10:56:43 AM: DEBUG: Acquiring 0
18/01/2023  10:56:43 AM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) about to wait for the following futures []
18/01/2023  10:56:43 AM: DEBUG: Releasing acquire 0/None
18/01/2023  10:56:43 AM: DEBUG: PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) done waiting for dependent futures
18/01/2023  10:56:43 AM: DEBUG: Executing task PutObjectTask(transfer_id=0, {'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x7f571ae668b0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x7f571a05f520>, 'bucket': 'dj-bkt', 'key': 'celery_redis/user-data/test.txt', 'extra_args': {}}
18/01/2023  10:56:43 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f572291c310>
18/01/2023  10:56:43 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f571a102430>>
18/01/2023  10:56:43 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
18/01/2023  10:56:43 AM: DEBUG: Endpoint provider result: https://dj-bkt.s3.amazonaws.com
18/01/2023  10:56:43 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
18/01/2023  10:56:43 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
18/01/2023  10:56:43 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x7f572291af70>
18/01/2023  10:56:43 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x7f572291a3a0>
18/01/2023  10:56:43 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x7f57229168b0>
18/01/2023  10:56:43 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x7f572291a310>
18/01/2023  10:56:43 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x7f572291c160>
18/01/2023  10:56:43 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x7f571a102430>>
18/01/2023  10:56:43 AM: DEBUG: Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x7f572291a160>
18/01/2023  10:56:43 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x7f57202db8b0>
18/01/2023  10:56:43 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x7f572291a670>
18/01/2023  10:56:43 AM: DEBUG: Adding expect 100 continue header to request.
18/01/2023  10:56:43 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x7f5722915dc0>
18/01/2023  10:56:43 AM: DEBUG: Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x7f57229169d0>
18/01/2023  10:56:43 AM: DEBUG: Making request for OperationModel(name=PutObject) with params: {'url_path': '/celery_redis/user-data/test.txt', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': '72gomIkZTEbFDYrVmUQWgw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x7f571a05f520>, 'auth_path': '/dj-bkt/celery_redis/user-data/test.txt', 'url': 'https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f571ae660a0>, 'has_streaming_input': True, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': 'dj-bkt', 'params': {'Bucket': 'dj-bkt', 'Key': 'celery_redis/user-data/test.txt', 'Body': <s3transfer.utils.ReadFileChunk object at 0x7f571a05f520>}}}}
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f57201d9af0>
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f571ae66be0>>
18/01/2023  10:56:43 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f571ae16970>>
18/01/2023  10:56:43 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f572291a040>
18/01/2023  10:56:43 AM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f572291c280>
18/01/2023  10:56:43 AM: DEBUG: Calculating signature using v4 auth.
18/01/2023  10:56:43 AM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:72gomIkZTEbFDYrVmUQWgw==
host:dj-bkt.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230118T052643Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
18/01/2023  10:56:43 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230118T052643Z
20230118/us-east-1/s3/aws4_request
af86b1e67265f5c28cc5e3ef39fc0a5b82a5493797e97ca94685dc0219d10286
18/01/2023  10:56:43 AM: DEBUG: Signature:
8470022d61a388df7e99556f3b5637acdf6b822eac4e810658c30efd43371ab1
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f57201d9b80>
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f572291c0d0>
18/01/2023  10:56:43 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'72gomIkZTEbFDYrVmUQWgw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230118T052643Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230118/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=8470022d61a388df7e99556f3b5637acdf6b822eac4e810658c30efd43371ab1', 'amz-sdk-invocation-id': b'af53e077-2c8f-446e-a56d-c96e38cbb531', 'amz-sdk-request': b'attempt=1', 'Content-Length': '405'}>
18/01/2023  10:56:43 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
18/01/2023  10:56:43 AM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.amazonaws.com:443
18/01/2023  10:56:43 AM: DEBUG: Waiting for 100 Continue response.
18/01/2023  10:56:43 AM: DEBUG: Received a non 100 Continue response from the server, NOT sending request body.
18/01/2023  10:56:43 AM: DEBUG: https://dj-bkt.s3.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 400 None
18/01/2023  10:56:43 AM: DEBUG: Response headers: {'x-amz-request-id': 'GKGS4T91Y7XXHEQ0', 'x-amz-id-2': 'DRfLwlG6hJMRrAPNaU/TNEFDKUW6XoO2yGOrAzcC7A8Nc0xF2AGOYCcPz0U1yZQe5QKQqtJZ8k0=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 18 Jan 2023 05:26:42 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
18/01/2023  10:56:43 AM: DEBUG: Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'ap-south-1\'</Message><Region>ap-south-1</Region><RequestId>GKGS4T91Y7XXHEQ0</RequestId><HostId>DRfLwlG6hJMRrAPNaU/TNEFDKUW6XoO2yGOrAzcC7A8Nc0xF2AGOYCcPz0U1yZQe5QKQqtJZ8k0=</HostId></Error>'
18/01/2023  10:56:43 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f571a102280>
18/01/2023  10:56:43 AM: DEBUG: No retry needed.
18/01/2023  10:56:43 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f571a102430>>
18/01/2023  10:56:43 AM: DEBUG: S3 client configured for region us-east-1 but the bucket dj-bkt is in region ap-south-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
18/01/2023  10:56:43 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x7f572291c310>
18/01/2023  10:56:43 AM: DEBUG: Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x7f571a102430>>
18/01/2023  10:56:43 AM: DEBUG: Calling endpoint provider with parameters: {'Bucket': 'dj-bkt', 'Region': 'ap-south-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
18/01/2023  10:56:43 AM: DEBUG: Endpoint provider result: https://dj-bkt.s3.ap-south-1.amazonaws.com
18/01/2023  10:56:43 AM: DEBUG: Updating URI from https://dj-bkt.s3.amazonaws.com/celery_redis/user-data/test.txt to https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt
18/01/2023  10:56:43 AM: DEBUG: Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
18/01/2023  10:56:43 AM: DEBUG: Selected auth type "v4" as "v4" with signing context params: {'region': 'ap-south-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
18/01/2023  10:56:43 AM: DEBUG: Response received to retry, sleeping for 0 seconds
18/01/2023  10:56:43 AM: DEBUG: Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x7f571a05f520>
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x7f57201d9af0>
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f571ae66be0>>
18/01/2023  10:56:43 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f571ae16970>>
18/01/2023  10:56:43 AM: DEBUG: Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x7f572291a040>
18/01/2023  10:56:43 AM: DEBUG: Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x7f572291c280>
18/01/2023  10:56:43 AM: DEBUG: Calculating signature using v4 auth.
18/01/2023  10:56:43 AM: DEBUG: CanonicalRequest:
PUT
/celery_redis/user-data/test.txt

content-md5:72gomIkZTEbFDYrVmUQWgw==
host:dj-bkt.s3.ap-south-1.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20230118T052643Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
18/01/2023  10:56:43 AM: DEBUG: StringToSign:
AWS4-HMAC-SHA256
20230118T052643Z
20230118/ap-south-1/s3/aws4_request
e57e4c2db5b42a5bb5540b9ebfb945dc5795a3a9e7637a5e6f2c532938d41219
18/01/2023  10:56:43 AM: DEBUG: Signature:
6d69a8bad784d821acdf3370a8a2f48aace4696021d8ff8adda409c079ca9bff
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x7f57201d9b80>
18/01/2023  10:56:43 AM: DEBUG: Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x7f572291c0d0>
18/01/2023  10:56:43 AM: DEBUG: Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://dj-bkt.s3.ap-south-1.amazonaws.com/celery_redis/user-data/test.txt, headers={'User-Agent': b'Boto3/1.26.46 Python/3.8.10 Linux/5.15.0-58-generic Botocore/1.29.46', 'Content-MD5': b'72gomIkZTEbFDYrVmUQWgw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20230118T052643Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAX3RXG4RX7UXZK4OG/20230118/ap-south-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=6d69a8bad784d821acdf3370a8a2f48aace4696021d8ff8adda409c079ca9bff', 'amz-sdk-invocation-id': b'af53e077-2c8f-446e-a56d-c96e38cbb531', 'amz-sdk-request': b'ttl=20230118T052742Z; attempt=2; max=5', 'Content-Length': '405'}>
18/01/2023  10:56:43 AM: DEBUG: Certificate path: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/venv/lib/python3.8/site-packages/certifi/cacert.pem
18/01/2023  10:56:43 AM: DEBUG: Starting new HTTPS connection (1): dj-bkt.s3.ap-south-1.amazonaws.com:443
18/01/2023  10:56:43 AM: DEBUG: Waiting for 100 Continue response.
18/01/2023  10:56:43 AM: DEBUG: 100 Continue response seen, now sending request body.
18/01/2023  10:56:43 AM: DEBUG: https://dj-bkt.s3.ap-south-1.amazonaws.com:443 "PUT /celery_redis/user-data/test.txt HTTP/1.1" 200 0
18/01/2023  10:56:43 AM: DEBUG: Response headers: {'x-amz-id-2': 'SXAPPTqS7FDiJxd1VJwvuNFlDPoUrenE+KOxu+xu70yzxHrkwRTd7e1UZox67eMmGxHskztGL00=', 'x-amz-request-id': 'GKGY9XCCFAPGY0YC', 'Date': 'Wed, 18 Jan 2023 05:26:44 GMT', 'x-amz-version-id': 'BXwqERxiC_3CvAO7FEkuMG18O5S135X3', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"ef68289889194c46c50d8ad599441683"', 'Server': 'AmazonS3', 'Content-Length': '0'}
18/01/2023  10:56:43 AM: DEBUG: Response body:
b''
18/01/2023  10:56:43 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x7f571a102280>
18/01/2023  10:56:43 AM: DEBUG: No retry needed.
18/01/2023  10:56:43 AM: DEBUG: Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x7f571a102430>>
18/01/2023  10:56:43 AM: DEBUG: S3 request was previously redirected, not redirecting.
18/01/2023  10:56:43 AM: DEBUG: Releasing acquire 0/None
18/01/2023  11:07:09 AM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/celery_redis/settings.py changed, reloading.
18/01/2023  11:07:46 AM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/celery_redis/settings.py changed, reloading.
18/01/2023  11:09:35 AM: INFO: /home/arjun.v@ah.zymrinc.com/my_py_dj/celery_redis_project/celery_redis/celery_redis/settings.py changed, reloading.
